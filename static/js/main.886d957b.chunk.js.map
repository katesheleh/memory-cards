{"version":3,"sources":["components/common/SortButton/SortButton.module.scss","components/common/Preloader/Preloader.module.css","reducers/newPassword-reducer.ts","reducers/restorePassword-reducer.ts","reducers/registration-reducer.ts","components/common/Button/Button.module.scss","assets/images/no_profile_image_placeholder.jpg","assets/images/logo.png","assets/images/loader.svg","api/api.ts","reducers/login-reducer.ts","components/Login/Login.tsx","components/Profile/Profile.tsx","components/Navbar/Navbar.tsx","components/Header/Header.tsx","api/cards-api.ts","reducers/cards-reducer.ts","components/common/Range/Range.tsx","components/Search/Search.tsx","components/common/Paginator/Paginator.tsx","components/common/SortButton/SortButton.tsx","components/common/Modal/StyledModal.ts","components/common/Modal/Modal.tsx","components/common/Checkbox/Checkbox.tsx","components/common/Preloader/Preloader.tsx","components/Cards/Modals/ModalEditCard.tsx","components/Cards/Modals/ModalRemoveCard.tsx","components/Cards/Modals/ModalAddCard.tsx","components/Cards/Cards.tsx","api/pack-api.ts","reducers/pack-reducer.ts","components/Packs/Modals/ModalRemovePack.tsx","components/Packs/Modals/ModalEditPack.tsx","components/Packs/Modals/ModalAddPack.tsx","components/Packs/Packs.tsx","components/Train/Train.tsx","App.tsx","serviceWorker.ts","reducers/store.ts","index.tsx","components/Packs/Packs.module.scss","components/Cards/Cards.module.scss","reducers/request-reducer.ts","components/Train/Train.module.scss","components/Navbar/Navbar.module.scss","api/auth-api.ts","components/common/Input/Input.tsx","components/common/Input/Input.module.scss","components/Profile/Profile.module.scss","components/common/Button/Button.tsx","components/common/Icons/Icons.tsx","components/Login/Login.module.scss","components/common/Modal/Modal.module.scss","components/common/Checkbox/Checkbox.module.scss","route.ts","components/common/Paginator/Paginator.module.scss","components/Header/Header.module.scss","components/Search/Search.module.scss"],"names":["module","exports","initialState","success","newPswReducer","state","action","type","payload","setResult","value","setNewPassword","password","token","dispatch","isFetchingAC","authAPI","sendNewPassword","resetPasswordToken","then","res","status","errorAC","catch","error","message","finally","selectedEmail","restorePswReducer","getEmailConfirmation","email","forgot","from","data","setSelectedEmail","isRegistered","registrationReducer","registrationTC","registration","instance","axios","create","baseURL","withCredentials","isLoggedIn","profile","setIsLoggedInAC","getUserDataAC","authMeAC","validationSchema","Yup","required","min","React","memo","useSelector","login","errorMsg","request","useDispatch","formik","useFormik","initialValues","rememberMe","onSubmit","values","to","PROFILE","className","classes","container","handleSubmit","formItem","Input","labelTitle","errors","getFieldProps","htmlFor","Button","subLinks","RESTORE_PASSWORD","REGISTRATION","userData","useEffect","handleAuth","a","authMe","colLeft","banner","img","src","avatar","noUserImage","alt","name","width","colRight","publicCardPacksCount","PACKS","onClick","logout","link","LOGIN","document","body","addEventListener","handleOutsideClick","useState","activeMenu","setActiveMenu","menuRef","useRef","event","path","composedPath","includes","current","onClickLink","menu","ref","menuTitle","switch","active","prevState","switchLine","navbar","LINKS","activeClassName","activeLink","header","logoPNG","cardsAPI","cardsPack_id","pageCount","get","question","answer","post","card","_id","model","put","delete","cardsAnswer","cardsQuestion","max","sortCards","page","cards","cardsTotalCount","maxGrade","minGrade","loadingTrainingCard","setCardsAC","setSortCardsAC","setCardsTotalCountAC","setLoadingTrainingCard","getCardsTC","searchCardsTC","getState","CardsCountRange","setValuesRange","minValuesRange","maxValuesRange","setValues","setValuesCardsCount","newValues","step","onChange","renderTrack","props","children","onMouseDown","onTouchStart","style","height","display","margin","borderRadius","background","getTrackBackground","colors","alignSelf","renderThumb","index","isDragged","backgroundColor","boxShadow","position","top","color","fontWeight","fontSize","fontFamily","padding","toFixed","Search","inputLabel","valueSearchName","changeInputSearch","search","secondInput","search_item","secondInputLabel","valueSecondSearchName","changeSecondInputSearch","Paginator","cardPacksTotalCount","getCardPacksPage","pages","lastPage","Math","ceil","i","push","key","undefined","filter","p","paginator","e","currentTarget","paginator_item","disabled","btn","onClickOne","onClickTwo","StyledModal","styled","Popup","Modal","open","onClose","close","modal","nested","styles","content","restProps","label","checkbox","customCheckbox","wrapper","preloader","ModalEditCard","editCardModal","setEditCardModal","closeEditCardModal","editCardQuestion","setEditCardQuestion","editCardAnswer","setEditCardAnswer","editCard","card_id","console","log","response","editCardTC","packId","o","modalInnerWrap","modalBtns","cardId","ModalRemoveCard","deleteCardModal","setDeleteCardModal","closeDeleteCardModal","removeCard","removeCardAC","removeCardTC","ModalAddCard","newCardModal","setNewCardModal","closeNewCardModal","newCardQuestion","setNewCardQuestion","newCardAnswer","setNewCardAnswer","addCard","newCard","addCardTC","Cards","useParams","newValuesRange","setAnswerCardsAC","setQuestionCardsAC","table","tableHeader","tableRow","map","c","cardUpdateDate","Date","updated","toLocaleString","setCardsPageAC","setCardsPageCountAC","packAPI","privatePack","cardsPack","private","rating","pack_id","user_id","searchName","sortPacks","cardPacks","packName","myPacks","maxCardsCount","minCardsCount","tokenDeathTime","setSortPacksAC","getPackTC","packs","ModalRemovePack","openDelModal","setOpenDelModal","closeDelModal","confirmActionCallback","removePackAC","removePackTC","userId","ModalEditPack","openEditModal","setOpenEditModal","closeEditModal","currentName","editPackName","setEditPackName","currentPrivacyStatus","setPrivatePack","editPack","editPackTC","checkboxWrap","checked","ModalAddPack","newPackModal","setNewPackModal","closeNewPackModal","newPackName","setNewPackName","addPack","newPack","newCardsPack","addPackTC","Packs","requestIsFetching","isFetching","setMyPacksAC","pack","packUpdateDate","cardsCount","setPageAC","setPageCountAC","grades","chooseCard","sum","reduce","acc","grade","rand","random","newSum","id","packID","check","setCheck","initTrain","setInitTrain","shots","created","__v","setCard","setGrade","length","front","loading","cardTitle","cardContent","cardText","back","actionMenu","gradesBtnGroup","g","toString","transform","updateCardGardeAC","updatedGrade","putGradeCardTC","Registration","lazy","RestorePassword","NewPassword","NotFound","App","fallback","exact","render","paths","component","Boolean","window","location","hostname","match","rootReducer","combineReducers","newPsw","restorePsw","requestReducer","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","unregister","showPassword","setShowPassword","handleShowPassword","input","Icons","Eye","EyeSlash","Error","errorMessage","library","add","fas","iconDefinition","iconName","pref","Lookup","prefix","findIconDefinition","SignInAlt","icon","SignOutAlt","Key","Lock","SearchLocation","NEW_PASSWORD","CARDS","TRAIN"],"mappings":"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","file":"static/js/main.886d957b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"SortButton_btn__2CPrs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Preloader_wrapper__SnQP1\",\"img\":\"Preloader_img__qADR8\"};","import {Dispatch} from 'redux'\r\nimport {authAPI} from '../api/auth-api'\r\nimport {errorAC, ErrorACType, isFetchingAC, isFetchingACType} from './request-reducer'\r\n\r\nconst SET_RESULT = 'SET_RESULT'\r\n\r\nconst initialState = {\r\n   success: null as null | boolean,\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nexport const newPswReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n   switch (action.type) {\r\n      case 'SET_RESULT':\r\n         return {\r\n            ...state,\r\n            success: action.payload,\r\n         }\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\n// actions\r\n\r\nexport const setResult = (value: boolean) => ({\r\n   type: SET_RESULT,\r\n   payload: value,\r\n} as const)\r\ntype SetResultActionType = ReturnType<typeof setResult>\r\n\r\n// thunks\r\n\r\nexport const setNewPassword = (password: string, token: string) =>\r\n   (dispatch: ThunkDispatchType) => {\r\n      dispatch(isFetchingAC(true))\r\n      authAPI.sendNewPassword({\r\n         password,\r\n         resetPasswordToken: token,\r\n      }).then(res => {\r\n         if (res.status === 200) {\r\n            dispatch(setResult(true))\r\n         } else {\r\n            dispatch(setResult(false))\r\n            dispatch(errorAC('Oops...Something went wrong. Please try again later'))\r\n         }\r\n      }).catch(error => {\r\n         dispatch(setResult(false))\r\n         dispatch(errorAC(error.message))\r\n      }).finally(() => {\r\n         dispatch(isFetchingAC(false))\r\n      })\r\n   }\r\n\r\n// TYPES\r\n\r\ntype ActionsType = SetResultActionType\r\ntype ThunkDispatchType = Dispatch<ActionsType | isFetchingACType | ErrorACType>\r\n","import {Dispatch} from 'redux'\r\nimport {authAPI} from '../api/auth-api'\r\nimport {errorAC, ErrorACType, isFetchingAC, isFetchingACType} from './request-reducer'\r\n\r\nconst SET_CONFIRMING = 'SET_CONFIRMING'\r\nconst SET_SELECTED_EMAIL = 'SET_SELECTED_EMAIL'\r\n\r\nconst initialState = {\r\n   selectedEmail: '' as string,\r\n   success: false as boolean,\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nexport const restorePswReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n   switch (action.type) {\r\n      case 'SET_CONFIRMING':\r\n         return {\r\n            ...state,\r\n            success: action.payload,\r\n         }\r\n      case 'SET_SELECTED_EMAIL':\r\n         return {\r\n            ...state,\r\n            selectedEmail: action.payload,\r\n         }\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\n// actions\r\n\r\nconst setConfirming = (value: boolean) => ({\r\n   type: SET_CONFIRMING,\r\n   payload: value,\r\n} as const)\r\ntype SetConfirmingActionType = ReturnType<typeof setConfirming>\r\n\r\nconst setSelectedEmail = (email: string) => ({\r\n   type: SET_SELECTED_EMAIL,\r\n   payload: email,\r\n} as const)\r\ntype SetSelectedEmail = ReturnType<typeof setSelectedEmail>\r\n\r\n// thunks\r\n\r\nexport const getEmailConfirmation = (email: string) =>\r\n   (dispatch: ThunkDispatchType) => {\r\n      const message = `\r\n         <div style=\"background-color: lime; padding: 15px\">\t\r\n            password recovery link:\r\n            <a href='http://localhost:3000/memory-cards#/set-new-password/$token$'>\r\n            link</a>\r\n         </div>\r\n      `\r\n      dispatch(isFetchingAC(true))\r\n      authAPI.forgot({\r\n         email, // кому восстанавливать пароль\r\n         from: `<${email}>`, // можно указать разработчика фронта)\r\n         message: message,\r\n      }).then(res => {\r\n            if (res.data.success) {\r\n               dispatch(setConfirming(res.data.success))\r\n               dispatch(setSelectedEmail(email))\r\n            } else if (res.data.success) {\r\n               dispatch(errorAC('Oops...Something went wrong. Please try again later'))\r\n            }\r\n         },\r\n      ).catch(error => {\r\n         dispatch(errorAC(error.message))\r\n      }).finally(() => {\r\n         dispatch(isFetchingAC(false))\r\n      })\r\n   }\r\n\r\n// TYPES\r\n\r\ntype ActionsType\r\n   = SetConfirmingActionType\r\n   | SetSelectedEmail\r\n\r\ntype ThunkDispatchType = Dispatch<ActionsType | isFetchingACType | ErrorACType>\r\n","import {authAPI, RegistrationParamsType} from '../api/auth-api'\r\nimport {Dispatch} from 'redux'\r\nimport {errorAC, ErrorACType, isFetchingAC, isFetchingACType} from './request-reducer'\r\n\r\nconst initialState = {\r\n   isRegistered: false as boolean,\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nexport const registrationReducer = (state: InitialStateType = initialState, action: ActionsType) => {\r\n   switch (action.type) {\r\n      case 'REGISTRATION':\r\n         return {\r\n            ...state,\r\n            isRegistered: action.payload,\r\n         }\r\n\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\n// actions\r\nexport const registrationAC = (payload: boolean) => ({type: 'REGISTRATION', payload} as const)\r\n\r\n// THUNK\r\nexport const registrationTC = (data: RegistrationParamsType) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>) => {\r\n   dispatch(isFetchingAC(true))\r\n   authAPI.registration(data)\r\n      .then(res => {\r\n         dispatch(isFetchingAC(false))\r\n         if (res.status === 201) {\r\n            dispatch(registrationAC(true))\r\n         } else {\r\n            dispatch(errorAC('Oops...Something went wrong. Please try again later'))\r\n         }\r\n      })\r\n      .catch((error) => {\r\n         dispatch(errorAC(error.message))\r\n         dispatch(isFetchingAC(false))\r\n      })\r\n}\r\n\r\n// TYPES\r\nexport type ActionsType = exampleACType\r\nexport type exampleACType = ReturnType<typeof registrationAC>\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__nA1Ui\"};","module.exports = \"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMsaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4xIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4NDBDMjE5QzcxMzUxMUVBQTE3N0YzODBBMTMxRjZDRSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4NDBDMjE5RDcxMzUxMUVBQTE3N0YzODBBMTMxRjZDRSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg0MEMyMTlBNzEzNTExRUFBMTc3RjM4MEExMzFGNkNFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjg0MEMyMTlCNzEzNTExRUFBMTc3RjM4MEExMzFGNkNFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQABgQEBAUEBgUFBgkGBQYJCwgGBggLDAoKCwoKDBAMDAwMDAwQDA4PEA8ODBMTFBQTExwbGxscHx8fHx8fHx8fHwEHBwcNDA0YEBAYGhURFRofHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8f/8AAEQgBLAEsAwERAAIRAQMRAf/EAJAAAQACAwEBAQAAAAAAAAAAAAAGBwEEBQIDCAEBAAAAAAAAAAAAAAAAAAAAABAAAQMCAgQIBwoJCwUBAAAAAAECAxEEBQYhMUESUWHRIhOTBxdxgZGhMkJVscFScsLSI3MUVPCCkrJDJBY2J2KiM2ODo7NkhKQV8VPDNEeFEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD9UgAAAAAAAAAAAAAAAFQPLpGMarnrutbpc5dCJ4VA4GI5+yvYqrXXaXEiepbp0n85Ob5wOHP2t4c1ypDh8z2pqV7msXyJvga7e19qrzsKVE4Unr/40A3bXtYwV6olzazwV1q3deieHS1QJHhmasAxNUbZ3kb5XaonLuSL4Guoq+IDqVAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGFcjUquhE1quoCGZk7SMOsFfb4ciXt2mhX1XoWLxqnpL4PKBXWL5jxnF3q6+uXPZWrYW82NPAxKJ5QOYAAANvg1AKfhxgSPA8949hatjWX7XaprgnVXaP5L/ST3OICzMu5ywjHGoyF3Q3dKutZND/C34SAd2oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8L2/tLG1kurqRIoI0q97tAFS5sz3fYu99taq62w5FVNxNEkiJtfTZxARTiAeEDO2niA6VjlrHr5qOtbKWRq+tTdTyuoBtyZGzXGlXYc+nE5i+45QObeYPill/7drJCia1c1aAaegBx+MD1HJJFI2WJyxyMWrXtWiovCiptAsnKHaL0zmWGMuRsq82G81I5eB+xF4wLARyLq/CoGQAAAAAAAAAAAAAAAAAAAAAAAAAAAa9/iFrYWkt3dPSOCFque9eLYnGuwCmc15rvMevNO9FZRKv2e22aPXdTW73AODQDLWuc5GtTecuhGppWq8QE0y92aYjetZcYk5bK3dpSNKLMqeP0fw0AWBhWU8BwtG/ZbRnSN1TSJvyV+M7V4gOvQBQDCtRUoulF1oBx8Tyfl3EUXp7NjZF/SxJ0b/K2gEDzB2ZX9o18+GPW8hbpWF1EmROKnpAQp7HscrXtVrm1RyOSioqcKAedAFgZCzwsLo8JxSSsS821uHL6K/AevBwKBZlQAAAAAAAAAAAAAAAAAAAAAAAAAAw57WorlVERNKquiiJrAp7PWbXYzefZbZ6ph1u6jKfpHoul68XwQItsoB9bO0uby5jtraNZZpV3WMbtUC3MpZGssGjZc3KNuMSXSsi6WxquxleDhAlO6BkAAAAAMbqARTOWSLbGInXVoiRYo1KtdqbIieq/lAqKaKSGV8MrVZLGqtexyUVFTWigePwoBanZ5m5b+BMKvX1vYG/QyO/SMTYv8pvnAnFQAAAAAAAAAAAAAAAAAAAAAAAABA+0vMrrS1TB7Z9J7lu9cOaulsXwdG1+nxAVf+HvAERVVERKqvB5ALfyFlNmEWKXd0yuI3KIrlXSsbFTQxPfAltAAAAAAAAACgFb9qGXGt3MatmUqu5doicPoP8uhQK7A+1pd3FpcxXNu9WTQvR8bk2KgF55dxqHGMJhvo6Ir03ZWJ6sjfST8NgHTAAAAAAAAAAAAAAAAAAAAAAAa2I4hBYWM95OtIrdivdx02eNdAFDYpiNxiWIT31wtZZ3K5eBE1IieBKIBqgSrs7wNMSxxs8zN62sk6VyLqV/qJ74FxU4wAABUBVAFQFeIAAAAaeL4fHiGGXNk9KtnjcxK7FVNC+JQKBexzHuY9KOaqo5OBUWigeQJj2a486wxf/j5Xfq1/obXZKnor400AW3UAAAAAAAAAAAAAAAAAAAAAABX/arjCxW1vhMTudMvTz6fUatGJ43afEBWYAC3OzCwbBl5binPu5XOVV+CzmNTzATAAAAj2bs222AWrURqTXs1ehgVaJRNbnU2AVjf53zPeSK519JC1dUcC9Gifk6fKBixztme0kR7b+SVE1smXpGr4d6q+QC1srZihx3C0umNSOdjljuItjXppRU4lQDtAAACgFGZwtW22Zr+FmhqSbyJ8dEd74HGA9Me+N7XscrXsVHNcmtFTSigXzgGKNxTB7W+SlZmIsiJsenNen5SAdEAAAAAAAAAAAAAAAAAAAACoFGZwxJcRzHe3Fd6NsnRRaapuRc1PLpXxgcYABamWs7ZYw/A7OznulZNExUezo5FoquVdaNptA6feLlH74vVyfNAd4uUfvi9XJ80B3i5R++L1cnzQKwzZjDcWx66u43q+BVRkC6U+jalE18K6QOOAAnnZLcPbiV9bVox8LZN3jY6ieZ4FoAAAACk8+rXN2I/GYnkiaBHwAFm9k2IrJZXmHudpgek0abd2TQ7ztTygT8AAAAAAAAAAAAAAAAAAAAGni959jwq7u60WCF8jfC1qqnnAoBVVVqutda+FagYAAZ1agMAAADXr07AADYBYHZNYTLdXuIObSFGJAx3C5VRzqeCgFmAAACoFCZhvEvMcvblq7zZJXK1eJOagHOAASzsyvFgzRHFXm3UUkdOGidIn5gFwAAAAAAAAAAAAAAAAAAAAAj2fplhyliDk1uaxieB0jUXzKBSgAAAAAAAAB/1AkuVsk4jjb2zyVt8Pqm9OuhXU1pGi6/CBbuG4ZZ4dZx2dozo4Ik5qbV4VVeFQNoAAA4ubsYbhWBXNxvUmc3ooE2rI/QlPBrAo0AAA7GUJlhzPhrk1rcMZ+WqtX84C9AAAAAAAAAAAAAAAAAAAAARbtK/dO4+si8m+gFOAAAAAAAAAJzkPJDcQ3cTxJqrZIv0EC/pFb6zv5IFosjYxqMYiNY1KNaiIiInEiAegAAD53FzBbQPnnekcMab0j3LREQCmc6ZpfjuIJ0Sq2wt1VtuxdFV2vVOFQI6AAAdLLSVzFhfD9sg/wAVAL6AAAAAAAAAAAAAAAAAAAABHc/wrLlK/RNbEY9PxZGqvmQClQAAAAAAANrC7J19iVrZt13ErI0XiVdPkAv23toreCOCFqMiiajGNTYjUogH1AAAOfjWPYbg9qtxeyIxPUYml714GoBUeaM44hjkvRr+r2LXfR27V109Z6+soHATRp2gYAAAO5km3WfNWGsTTSXpOrar/kgXgAAAAAAAAAAAAAAAAAAAADSxmz+24TeWlKrPDIxvhc1UTzgUD4fGBgAAAAAAEhyBEkmbLGqaGue7xox1PdAusAAAw5yNRVXQiJVVAojMeN3GMYrNdyuVY1cqW7F9WNFoiInHtA5YAAAAATXsrsemx2a7VKttYVovA6Rd1P5u8Ba4AAAAAAAAAAAAAAAAAAAAAFF5uw1cOzFe29N2NZFkh4NyTnJ5N6gHHAAAAAAB3cl4lZ4bmCC8vJOjt42v3noiu0q2iaESoFld4uUfvi9XJ80B3i5R++L1cnzQHeLlH74vVyfNA+F/2g5YksbiOG7VZnxPbGnRyekrVp6oFPgAAAABmgFt9mWGLaZf+0vSkl89ZP7NvNZ76+MCYAAAAAAAAAAAAAAAAAAAAAAV92qYL0lvb4vE2rofoLinwHLVi+Jy08YFaAAAAAAAU0aq8oAAAAzt8gGAAAAAA3cGwubFcTtrCJOdM+iu4Gppc5fA1AL6traK2t47eFN2KFqMjbwI1KIB9QAAAAAAAAAAAAAAAAAAAAANe/sIL6yns7hN6Gdisf401+LWBQ2K4Zc4ZiE9jcJSSB26q7FT1XJ4UA1AAAAAA7eS7a3ucz2MFxG2WF7nI+N6I5q0Y5dKKBbv7LZb9mW3VM5AH7LZb9mW3VM5AH7LZb9mW3VM5APEuVsuJE5Uwy2RUatPomcgFFbQAAAAAtLs0y6trZri9w2k92lIEXZFXX+OqeQCdAAAAAAAAAAAAAAAAAAAAAAAAEL7RcrLiVmmI2jN69tGqj2tTTJEmmicbdgFUAYAAAAHfyF+9uHfHf8A4bgLtAAAPMv9C/4q+4B+dV1gAAACRZKys/HMRR0qKmH26o64dq3l2MTjXX4ALoZGxjWsYiNa1Ea1qJRERNCIgHoAAAAAAAAAAAAAAAAAAAAAAAAUAqzP+S3WcsmK4dHWzkWt1E39G74SInqr5gIOBgAAA7+Q/wB7MOXhe+nVuAu0AAA8S/0T/ir7gH522gAFfMB1cvZevscvktrZN2NtFnnVKtY1dq6qrwIBdeE4TZ4VYRWVo3dhiTWutyrrc5eFQNwAAAAAAAAAAAAAAAAAAAAAAAAAAPLmNe1WvRHNclFaqVRUXYBV2dMgS2bn4hhUayWSqr5bZNLol2q1NrQIPTSBgAB9Le4uLeZs1vK+GZiqrZI3KxyV4HJpA3f2jzD7Uu+vl+cA/aPMPtS76+X5wD9o8w+1Lvr5fnAFzHmFaouKXdF1p08vzgOcAA7mWcp4jj1xSJOis2LSa5cnNTib8J3EBcWD4LY4RZMs7Nm7G3S5y6XPdtc5dqqBvAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYVKgQ3NHZ1ZYjvXWHbtperznMpSJ68aJ6K8aAVnieD4lhdwsF9bvhfsqnNd8Vyc1fEoGkAAAAABQPpBbz3EzYYI3SzP9CNiK5y+BEqBPctdmMsjm3GOLuRppSyavOX47k1JxIBY1ta29tAyC3jbFCxKNjYlERPEB9QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQD43dlaXkKwXULJ4na2PRHJ5wIdivZXhFw5z7CaSzcupip0sfi3lRyflARa97M8zwKvQsiumppRY5EatPBJuAcqXKOZ4672GXC0+CxXfm1A8x5VzK/wBHC7pPjRPb+ciAdCz7O81XKpvWqW7F9eZ7W+ZFc7zASTC+yeBtH4nerJwxW6bqeN7tf5IE0wvAsJwqPo7C2ZAi+k5Eq9fC5auUDfoAAAAAAAAAAAAAAAAAAAAAAAAAFQAAAAAAAAADACgGQMIgGQAAAAAAAAAAAAAAAAAAAAAAAAB5WRjWq5yojW6VVdCJQCN4n2iZZsXOjbM67lbrZbIj0T8ZVazyKBwJ+1xu9S3wxVbsc+Wi/koxfdA1ndreIU5uHxIvCr3L7yAee9vFfuMHlfygO9vFfuMHlfygO9vFfuMHlfygO9vFfuMHlfygO9vFfuMHlfygZb2t4lXnWEKpwI56coHrvcvvZ0XWO5AHe5fezousdyAO9y+9nRdY7kAd7l97Oi6x3IA73L72dF1juQB3uX3s6LrHcgDvcvvZ0XWO5AHe5fezousdyAO9y+9nRdY7kAd7l97Oi6x3IA73L72dF1juQB3uX3s6LrHcgDvcvvZ0XWO5AHe5fezousdyAO9y+9nRdY7kAd7l97Oi6x3IA73L72dF1juQB3uX3s6LrHcgH0j7XZ0/pMMa74syt91jgOrY9qmAzUS6hmtXLrdRJGeVvO/mgSnD8Ww3EYulsbhlwz1txaqnxm608YG3UAAAAAAHNxzH7DBrJbq7dSuiKJPTkdwNQCosxZwxbG5VSV6w2aLzLSNeb+MujeUDhUTVsTZoAbKcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8wH2tLy6s52z2sr4Zmei9i0UCycpdozLxzLHF1bFcuokV0nNY9eB2xq8YE83gMgAAGriGJWuH2U15du6OGFKuXWq8CInCuwCkMw47c43iUl5OtGrzYYq1axiamp76gcwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB59QFldnecXTbmD38m9Mifqczl0uan6NV4U2AWFUAAqBUnaNmd2I4guHW7/1KzdRyouh8u1fxdSAQ4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9RSSRSMljcrJGKjmOboVFTSipxgXhlLHmY3g0V0tPtDPo7lqbJG6FWnHrA7QHDzljK4Tl+5uWLSd6dFb/AB36K+JKqBSFVXSq6dvugYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEu7NsaWwx1LN7qW9+iMVF/7iegvyQLeqBW/a3fr0thYouhEfO9vCq81q+ZwFdgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB7hlkhlZLG7dkjcj2O4HNWqKBev/Nw/s7/AMzT6P7N9p3ePc3t3y6AK07TplkzQ9i/ooY2U8KK75YESAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABZ32le6XpK6ei6P/cdGBE+0ByuzfiC8Cxt8kLUAjoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJ50v8J93+v3af2+8BwM8OrmvEfrETyMagHCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABON1e6qv+Zr/AHlAOFnVa5qxL635KAcQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFg9H/CPe/rN7/dboEZzp+9WJfXL7iAcQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFmdH/COn9Xvf7reAh2dP3qxL65fcQDiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtXc/hVu/5Wv8AeVAgudP3qxL65fcQDiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtun8L/8ARV98Cv8AOqUzViX1vyUA4gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALe/8AmP8A+f8AJAr3O3714l9b8lAOGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC3f/mP+g+SB//Z\"","module.exports = __webpack_public_path__ + \"static/media/logo.cd73240e.png\";","module.exports = __webpack_public_path__ + \"static/media/loader.aa8b6d13.svg\";","import axios from \"axios\";\r\n\r\nexport const instance = axios.create({\r\n    //baseURL: 'http://localhost:7542/2.0/',\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0/',\r\n    withCredentials: true\r\n})","import {Dispatch} from 'redux'\r\nimport {authAPI, LoginParamsType, LoginResponseType} from '../api/auth-api'\r\nimport {errorAC, ErrorACType, isFetchingAC, isFetchingACType} from './request-reducer'\r\n\r\nconst initialState = {\r\n   isLoggedIn: false,\r\n   profile: {} as LoginResponseType,\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nexport const loginReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n   switch (action.type) {\r\n      case 'LOGIN':\r\n         return {...state, isLoggedIn: action.value}\r\n      case 'GET_USER_DATA':\r\n         return {...state, profile: action.profile}\r\n      case 'AUTH_ME':\r\n         return {...state, isLoggedIn: action.success}\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\n// action creators\r\nexport const setIsLoggedInAC = (value: boolean) => ({type: 'LOGIN', value} as const)\r\nexport const getUserDataAC = (profile: LoginResponseType) => ({type: 'GET_USER_DATA', profile} as const)\r\nexport const authMeAC = (success: boolean) => ({type: 'AUTH_ME', success} as const)\r\n\r\n// thunks\r\nexport const loginTC = (data: LoginParamsType) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType | any>) => {\r\n   dispatch(isFetchingAC(true))\r\n   authAPI.login(data)\r\n      .then(res => {\r\n         dispatch(isFetchingAC(false))\r\n         if (res.status === 200) {\r\n            dispatch(setIsLoggedInAC(true))\r\n            dispatch(getUserDataAC(res.data))\r\n         } else {\r\n            dispatch(errorAC('Oops...Something went wrong. Please try again later'))\r\n            dispatch(setIsLoggedInAC(false))\r\n         }\r\n      })\r\n      .catch((error) => {\r\n         //dispatch(errorAC(error.response.data.error))\r\n         dispatch(isFetchingAC(false))\r\n      })\r\n}\r\n\r\nexport const logoutTC = () => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType | authSucessACType>) => {\r\n   dispatch(isFetchingAC(true))\r\n   authAPI.logout()\r\n       .then(res => {\r\n          dispatch(isFetchingAC(false))\r\n          dispatch(authMeAC(false))\r\n       })\r\n       .catch((error) => {\r\n          //dispatch(errorAC(error.response.data.error))\r\n          dispatch(isFetchingAC(false))\r\n       })\r\n}\r\n\r\nexport const authSucessTC = () => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType | authSucessACType>) => {\r\n    dispatch(isFetchingAC(true))\r\n    authAPI.authMe()\r\n        .then(res => {\r\n            dispatch(isFetchingAC(false))\r\n            dispatch(getUserDataAC(res.data))\r\n            dispatch(authMeAC(true))\r\n        })\r\n        .catch((error) => {\r\n            //dispatch(errorAC(error.response.data.error))\r\n            dispatch(isFetchingAC(false))\r\n        })\r\n}\r\n\r\n// TYPES\r\nexport type ActionsType = setIsLoggedInACType | getUserDataACType | authSucessACType\r\nexport type setIsLoggedInACType = ReturnType<typeof setIsLoggedInAC>\r\nexport type getUserDataACType = ReturnType<typeof getUserDataAC>\r\nexport type authSucessACType = ReturnType<typeof authMeAC>\r\n","import React from 'react'\r\nimport classes from './Login.module.scss'\r\nimport {NavLink, Redirect} from 'react-router-dom'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {AppRootStateType} from '../../reducers/store'\r\nimport {loginTC} from '../../reducers/login-reducer'\r\nimport {PROFILE, REGISTRATION, RESTORE_PASSWORD} from '../../route'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport {useFormik} from 'formik'\r\nimport Input from '../common/Input/Input'\r\nimport Button from '../common/Button/Button'\r\nimport * as Yup from 'yup'\r\n\r\nconst validationSchema = () => Yup.object({\r\n   email: Yup.string()\r\n      .email('Invalid email address')\r\n      .required('Required'),\r\n   password: Yup.string()\r\n      .required('Required')\r\n      .min(8, 'Must be 8 characters or less'),\r\n})\r\n\r\nconst Login = () => {\r\n   const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.login.isLoggedIn)\r\n   const errorMsg = useSelector<AppRootStateType, string>(state => state.request.error)\r\n   const dispatch = useDispatch()\r\n\r\n   const formik = useFormik({\r\n      initialValues: {\r\n         email: '',\r\n         password: '',\r\n         rememberMe: false,\r\n      },\r\n      validationSchema,\r\n      onSubmit: values => {\r\n         dispatch(loginTC(values))\r\n      },\r\n   })\r\n\r\n   if (isLoggedIn) {\r\n      return <Redirect to={PROFILE}/>\r\n   }\r\n\r\n   return (\r\n      <div className={classes.container}>\r\n         <h1>Login</h1>\r\n         <form onSubmit={formik.handleSubmit}>\r\n\r\n            {errorMsg && <p><strong>{errorMsg}</strong></p>}\r\n\r\n            <div className={classes.formItem}>\r\n               <Input labelTitle={'Email'}\r\n                      error={formik.errors.email}\r\n                      {...formik.getFieldProps('email')}/>\r\n            </div>\r\n\r\n            <div className={classes.formItem}>\r\n               <Input type='password'\r\n                      labelTitle={'Password'}\r\n                      error={formik.errors.password}\r\n                      {...formik.getFieldProps('password')}/>\r\n            </div>\r\n\r\n            <div className={classes.formItem}>\r\n               <label htmlFor=\"password\">remember me</label>\r\n               <input\r\n                  type='checkbox'\r\n                  {...formik.getFieldProps('rememberMe')}/>\r\n            </div>\r\n\r\n            <Button type=\"submit\" labelTitle={'Send'}/>\r\n         </form>\r\n\r\n         <div className={classes.subLinks}>\r\n            <NavLink to={RESTORE_PASSWORD}>Forgot Password?</NavLink>\r\n            <NavLink to={REGISTRATION}>Registration</NavLink>\r\n         </div>\r\n\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default React.memo(Login)","import React, {useEffect, useState} from 'react';\r\nimport classes from './Profile.module.scss';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../reducers/store\";\r\nimport {LoginResponseType} from \"../../api/auth-api\";\r\nimport {LOGIN, PACKS} from \"../../route\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {setIsLoggedInAC, logoutTC, authSucessTC} from \"../../reducers/login-reducer\";\r\nimport Button from \"../common/Button/Button\";\r\nimport noUserImage from '../../assets/images/no_profile_image_placeholder.jpg';\r\n\r\nconst Profile = () => {\r\n\r\n    const userData = useSelector<AppRootStateType, LoginResponseType>(state => state.login.profile)\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.login.isLoggedIn)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        if (!isLoggedIn) {\r\n            handleAuth()\r\n        }\r\n    }, [])\r\n\r\n    const handleAuth = async () => {\r\n        await dispatch(authSucessTC());\r\n    }\r\n\r\n    const setLogOut = () => {\r\n        dispatch(logoutTC())\r\n        dispatch(setIsLoggedInAC(false))\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return <Redirect to={LOGIN}/>\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={classes.container}>\r\n                <h1>Profile</h1>\r\n            </div>\r\n            <div className={classes.container}>\r\n                <div className={classes.colLeft}>\r\n                    <div className={classes.banner}>\r\n                        <img className={classes.img}\r\n                             src={userData.avatar || noUserImage} alt={userData.name}\r\n                             width={250}/>\r\n                    </div>\r\n                </div>\r\n                <div className={classes.colRight}>\r\n                    <h3>{userData.name}</h3>\r\n                    <p><strong>Email: </strong> {userData.email}</p>\r\n                    <p><strong>Card\r\n                        Packs: </strong> {userData.publicCardPacksCount} {userData.publicCardPacksCount > 1 ? 'packs' : 'pack'}\r\n                    </p>\r\n                    <p><Link to={PACKS}><Button labelTitle={'See card packs'}/></Link></p>\r\n                    <p onClick={setLogOut} className={classes.link}>Logout</p>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default React.memo(Profile)","import React from 'react'\r\nimport classes from './Navbar.module.scss'\r\nimport {NavLink} from 'react-router-dom'\r\nimport * as LINKS from '../../route'\r\n\r\nconst Navbar = () => {\r\n\r\n   React.useEffect(() => {\r\n      document.body.addEventListener('click', handleOutsideClick)\r\n   })\r\n\r\n   const [activeMenu, setActiveMenu] = React.useState<boolean>(false)\r\n\r\n   const menuRef = React.useRef<HTMLDivElement>(null)\r\n\r\n   const handleOutsideClick = (event: MouseEvent | any) => {\r\n      const path = event.path || (event.composedPath && event.composedPath()) // firefox uses composedPath\r\n      if (!path.includes(menuRef.current)) {\r\n         setActiveMenu(false)\r\n      }\r\n\r\n   }\r\n\r\n   const onClickSwitch = () => setActiveMenu(prevState => !prevState)\r\n   const onClickLink = () => setActiveMenu(false)\r\n\r\n   return (\r\n      <div className={classes.menu} ref={menuRef}>\r\n         <div className={classes.menuTitle}>Menu</div>\r\n         <div className={`${classes.switch} ${activeMenu ? classes.active : ''}`} onClick={onClickSwitch}>\r\n            <div className={classes.switchLine}></div>\r\n            <div className={classes.switchLine}></div>\r\n            <div className={classes.switchLine}></div>\r\n         </div>\r\n         <nav className={classes.navbar}>\r\n            <NavLink to={LINKS.LOGIN} activeClassName={classes.activeLink} onClick={onClickLink}>login</NavLink>\r\n            <NavLink to={LINKS.PROFILE} activeClassName={classes.activeLink} onClick={onClickLink}>profile</NavLink>\r\n            <NavLink to={LINKS.PACKS} activeClassName={classes.activeLink} onClick={onClickLink}>card packs</NavLink>\r\n            <NavLink to={LINKS.REGISTRATION} activeClassName={classes.activeLink} onClick={onClickLink}>registration</NavLink>\r\n            <NavLink to={LINKS.RESTORE_PASSWORD} activeClassName={classes.activeLink} onClick={onClickLink}>restore password</NavLink>\r\n         </nav>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default React.memo(Navbar)\r\n","import React from 'react'\r\nimport classes from './Header.module.scss'\r\nimport Navbar from '../Navbar/Navbar'\r\nimport logoPNG from '../../assets/images/logo.png'\r\n\r\nconst Header = () => {\r\n   return (\r\n      <header className={classes.header}>\r\n         <div className={classes.container}>\r\n            <div><img src={logoPNG} alt=\"logo\" width={60}/></div>\r\n            <Navbar/>\r\n         </div>\r\n      </header>\r\n   )\r\n}\r\n\r\nexport default React.memo(Header)\r\n","import {instance} from \"./api\";\r\nimport {EditCardModelType} from \"../reducers/cards-reducer\";\r\nimport {CardsPackResponseType} from \"./pack-api\";\r\n\r\n\r\nexport const cardsAPI = {\r\n    getCards(cardsPack_id: string, pageCount?:number) {\r\n        return instance.get<CardsResponseType>(`cards/card?cardsPack_id=${cardsPack_id}${pageCount ? '&pageCount=' + pageCount : ''}`)\r\n    },\r\n    addCard(cardsPack_id: string, question: string, answer: string) {\r\n        return instance.post<AddCardResponseType>(`cards/card`, {\r\n            card: {cardsPack_id, question, answer}\r\n        })\r\n    },\r\n\r\n    editCard(_id: string, model: EditCardModelType) {\r\n        return instance.put<CardsResponseType>(`cards/card`, {\r\n            card: {\r\n                _id: _id,\r\n                question: model.question,\r\n                answer: model.answer\r\n            }\r\n        })\r\n    },\r\n    removeCard(_id: string) {\r\n        return instance.delete<CardsResponseType>(`cards/card?id=${_id}`)\r\n    },\r\n    searchCards(cardsPack_id: string, cardsAnswer?: string, cardsQuestion?: string, min?: number, max?: number, sortCards?: string, page?: number, pageCount?: number) {\r\n        return instance.get<CardsResponseType>(`cards/card?cardsPack_id=${cardsPack_id}`\r\n            + (cardsAnswer ? `&cardAnswer=${cardsAnswer}` : '')\r\n            + (cardsQuestion ? `&cardQuestion=${cardsQuestion}` : '')\r\n            + (max ? `&min=${min}&max=${max}` : '')\r\n            + (sortCards ? `&sortCards=${sortCards}` : '')\r\n            + (page ? `&page=${page}` : '')\r\n            + (pageCount ? `&pageCount=${pageCount}` : '')\r\n        )\r\n    },\r\n\r\n    putGrade(data: PutGradeParamsType) {\r\n        return instance.put<PutGradeResponseType>(`cards/grade`, data)\r\n    }\r\n}\r\n\r\nexport type CardsResponseType = {\r\n    cards: Array<CardsType>\r\n    cardsTotalCount: number\r\n    maxGrade: number\r\n    minGrade: number\r\n    page: number\r\n    pageCount: number\r\n}\r\n\r\nexport type AddCardResponseType = {\r\n    newCard: NewCardType\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\n\r\nexport type NewCardType = {\r\n    answer: string\r\n    cardsPack_id: string\r\n    comments: string\r\n    created: string\r\n    grade: number\r\n    more_id: string\r\n    question: string\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    updated: string\r\n    user_id: string\r\n    __v: number\r\n    _id: string\r\n}\r\n\r\nexport type CardsType = {\r\n    answer: string\r\n    question: string\r\n    cardsPack_id: string\r\n    grade: number\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    user_id: string\r\n    created: string\r\n    updated: string\r\n    __v: number\r\n    _id: string\r\n}\r\n\r\nexport type PutGradeParamsType = {\r\n    grade: number\r\n    card_id: string\r\n}\r\n\r\nexport type PutGradeResponseType = {\r\n    updatedGrade: {\r\n        _id: string\r\n        cardsPack_id: string\r\n        card_id: string\r\n        user_id: string\r\n        grade: number\r\n        shots: number\r\n    }\r\n}\r\n","import {Dispatch} from 'redux'\r\nimport {ErrorACType, isFetchingAC, isFetchingACType} from './request-reducer'\r\nimport {cardsAPI, CardsType, NewCardType} from '../api/cards-api'\r\nimport {AppRootStateType} from './store'\r\n\r\nlet initialState = {\r\n   cards: [] as CardsType[],\r\n   cardsTotalCount: 0,\r\n   cardsAnswer: '',\r\n   cardsQuestion: '',\r\n   min: 0,\r\n   max: 4,\r\n   sortCards: '',\r\n   maxGrade: 4,\r\n   minGrade: 0,\r\n   page: 1,\r\n   pageCount: 4,\r\n   loadingTrainingCard: false\r\n}\r\n\r\nexport const cardsReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n   switch (action.type) {\r\n      case 'SET_CARDS':\r\n         return {...state, cards: action.cards}\r\n      case 'ADD_CARD':\r\n         return {...state, cards: [action.newCard, ...state.cards]}\r\n      case 'REMOVE_CARD':\r\n         return {...state, cards: state.cards.filter((c) => c._id != action._id)}\r\n      case 'EDIT_CARD':\r\n         return {\r\n            ...state,\r\n            cards: state.cards.map(p => p._id === action.card_id ? {...p, ...action.model} : p),\r\n         }\r\n      case 'SET_MIN_MAX_CARDS_GRADS':\r\n         return {...state, min: action.newValues[0], max: action.newValues[1]}\r\n      case 'SET_ANSWER_CARDS':\r\n         return {...state, cardsAnswer: action.cardsAnswer}\r\n      case 'SET_QUESTION_CARDS':\r\n         return {...state, cardsQuestion: action.cardsQuestion}\r\n      case 'SET_SORT_CARDS':\r\n         return {...state, sortCards: action.sortCards}\r\n      case 'SET_CARDS_TOTAL_CARDS':\r\n         return {...state, cardsTotalCount: action.cardsTotalCount}\r\n      case 'SET_CARDS_PAGE':\r\n         return {...state, page: action.page}\r\n      case 'SET_CARDS_PAGE_COUNT':\r\n         return {...state, pageCount: action.pageCount}\r\n      case 'UPDATE_CARD_GRADE':\r\n         return {...state, cards: state.cards.map(p => p._id === action.card_id ? {...p, grade: action.grade} : p),}\r\n      case 'SET_LOADING_TRAINING_CARD':\r\n         return {...state, loadingTrainingCard: action.value}\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\n// AC\r\nexport const setCardsAC = (cards: CardsType[]) => ({type: 'SET_CARDS', cards} as const)\r\nexport const addCardAC = (newCard: NewCardType) => ({type: 'ADD_PACK', newCard} as const)\r\nexport const removeCardAC = (_id: string) => ({type: 'REMOVE_CARD', _id} as const)\r\nexport const editCardAC = (card_id: string, model: EditCardModelType) => ({type: 'EDIT_CARD', card_id, model} as const)\r\nexport const setMinMaxCardsGradsAC = (newValues: number[]) => ({type: 'SET_MIN_MAX_CARDS_GRADS', newValues} as const)\r\nexport const setAnswerCardsAC = (cardsAnswer: string) => ({type: 'SET_ANSWER_CARDS', cardsAnswer} as const)\r\nexport const setQuestionCardsAC = (cardsQuestion: string) => ({type: 'SET_QUESTION_CARDS', cardsQuestion} as const)\r\nexport const setSortCardsAC = (sortCards: string) => ({type: 'SET_SORT_CARDS', sortCards} as const)\r\nexport const setCardsTotalCountAC = (cardsTotalCount: number) => ({\r\n   type: 'SET_CARDS_TOTAL_CARDS',\r\n   cardsTotalCount,\r\n} as const)\r\nexport const setCardsPageAC = (page: number) => ({type: 'SET_CARDS_PAGE', page} as const)\r\nexport const setCardsPageCountAC = (pageCount: number) => ({type: 'SET_CARDS_PAGE_COUNT', pageCount} as const)\r\nexport const updateCardGardeAC = (card_id: string, grade: number) => ({type: 'UPDATE_CARD_GRADE', card_id, grade} as const)\r\nconst setLoadingTrainingCard = (value: boolean) => ({type: 'SET_LOADING_TRAINING_CARD', value})\r\n\r\n// thunks\r\nexport const getCardsTC = (cardsPack_id: string, pageCount?: number) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>) => {\r\n   dispatch(isFetchingAC(true))\r\n   cardsAPI.getCards(cardsPack_id, pageCount)\r\n      .then(res => {\r\n         dispatch(isFetchingAC(false))\r\n         dispatch(setCardsTotalCountAC(res.data.cardsTotalCount))\r\n         dispatch(setCardsAC(res.data.cards))\r\n      })\r\n      .catch((error) => {\r\n         //dispatch(errorAC(error.response.data.error))\r\n         dispatch(isFetchingAC(false))\r\n      })\r\n}\r\n\r\nexport const addCardTC = (cardsPack_id: string, question: string, answer: string) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>) => {\r\n   dispatch(isFetchingAC(true))\r\n   cardsAPI.addCard(cardsPack_id, question, answer)\r\n      .then(res => {\r\n         dispatch(isFetchingAC(false))\r\n         dispatch(addCardAC(res.data.newCard))\r\n         dispatch(getCardsTC(cardsPack_id))\r\n      })\r\n      .catch((error) => {\r\n         console.log(error.response.data.error)\r\n         dispatch(isFetchingAC(false))\r\n      })\r\n}\r\n\r\nexport const removeCardTC = (_id: string, cardsPack_id: string) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>) => {\r\n   dispatch(isFetchingAC(true))\r\n   cardsAPI.removeCard(_id)\r\n      .then(res => {\r\n         dispatch(isFetchingAC(false))\r\n         dispatch(removeCardAC(_id))\r\n         dispatch(getCardsTC(cardsPack_id))\r\n      })\r\n      .catch((error) => {\r\n         console.log(error.response.data.error)\r\n         dispatch(isFetchingAC(false))\r\n      })\r\n}\r\n\r\nexport const searchCardsTC = (cardsPack_id: string) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>, getState: () => AppRootStateType) => {\r\n   const {cardsAnswer, cardsQuestion, min, max, sortCards, page, pageCount} = getState().cards\r\n   dispatch(isFetchingAC(true))\r\n   cardsAPI.searchCards(cardsPack_id, cardsAnswer, cardsQuestion, min, max, sortCards, page, pageCount)\r\n      .then(res => {\r\n         dispatch(isFetchingAC(false))\r\n         dispatch(setCardsTotalCountAC(res.data.cardsTotalCount))\r\n         dispatch(setCardsAC(res.data.cards))\r\n      })\r\n      .catch((error) => {\r\n         //dispatch(errorAC(error.response.data.error))\r\n         dispatch(isFetchingAC(false))\r\n      })\r\n}\r\n\r\nexport const editCardTC = (card_id: string, model: EditCardModelType, cardsPack_id: string) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>) => {\r\n   dispatch(isFetchingAC(true))\r\n   cardsAPI.editCard(card_id, model)\r\n      .then(res => {\r\n         dispatch(isFetchingAC(false))\r\n         editCardAC(card_id, model)\r\n         dispatch(getCardsTC(cardsPack_id))\r\n      })\r\n      .catch((error) => {\r\n         console.log(error.response.data.error)\r\n         dispatch(isFetchingAC(false))\r\n      })\r\n}\r\n\r\nexport const putGradeCardTC = (card_id: string, grade: number) =>\r\n   (dispatch: Dispatch) => {\r\n      dispatch(setLoadingTrainingCard(true))\r\n    cardsAPI.putGrade({card_id, grade})\r\n       .then(res => {\r\n          dispatch(updateCardGardeAC(res.data.updatedGrade.card_id, res.data.updatedGrade.grade))\r\n          dispatch(setLoadingTrainingCard(false))\r\n       })\r\n       .catch((error) => {\r\n          console.log(error.response.data.error)\r\n          dispatch(setLoadingTrainingCard(false))\r\n       })\r\n   }\r\n\r\ntype InitialStateType = {\r\n   cards: Array<CardsType>\r\n   cardsTotalCount: number\r\n   cardsAnswer: string\r\n   cardsQuestion: string\r\n   min: number\r\n   max: number\r\n   sortCards: string\r\n   maxGrade: number\r\n   minGrade: number\r\n   page: number\r\n   pageCount: number\r\n   loadingTrainingCard: boolean\r\n}\r\n\r\ntype ActionsType =\r\n   setCardsACType\r\n   | addCardACType\r\n   | RemoveCardType\r\n   | setMinMaxCardsGradsACType\r\n   | setAnswerCardsACType\r\n   | setQuestionCardsACType\r\n   | setSortCardsACType\r\n   | setCardsTotalCountACType\r\n   | setCardsPageACType\r\n   | setCardsPageCountACType\r\n   | updateCardGardeACType\r\n   | setLoadingTrainingCardACType\r\n   | any\r\n\r\n\r\nexport type setCardsACType = ReturnType<typeof setCardsAC>\r\nexport type addCardACType = ReturnType<typeof addCardAC>\r\nexport type RemoveCardType = ReturnType<typeof removeCardAC>\r\nexport type setMinMaxCardsGradsACType = ReturnType<typeof setMinMaxCardsGradsAC>\r\nexport type setAnswerCardsACType = ReturnType<typeof setAnswerCardsAC>\r\nexport type setQuestionCardsACType = ReturnType<typeof setQuestionCardsAC>\r\nexport type setSortCardsACType = ReturnType<typeof setSortCardsAC>\r\nexport type setCardsTotalCountACType = ReturnType<typeof setCardsTotalCountAC>\r\nexport type setCardsPageACType = ReturnType<typeof setCardsPageAC>\r\nexport type setCardsPageCountACType = ReturnType<typeof setCardsPageCountAC>\r\nexport type updateCardGardeACType = ReturnType<typeof updateCardGardeAC>\r\ntype setLoadingTrainingCardACType = ReturnType<typeof setLoadingTrainingCard>\r\n\r\nexport type EditCardModelType = {\r\n   question?: string\r\n   answer?: string\r\n}\r\n\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport {getTrackBackground, Range} from 'react-range';\r\n\r\ntype RangePropsType = {\r\n    setValuesRange: (newValuesRange: any) => void\r\n    minValuesRange: number\r\n    maxValuesRange: number\r\n}\r\n\r\nconst CardsCountRange = ({setValuesRange, minValuesRange, maxValuesRange}: RangePropsType) => {\r\n    const [values, setValues] = useState([minValuesRange, maxValuesRange]);\r\n\r\n    const setValuesCardsCount = (newValues: number[]) => {\r\n        setValuesRange(newValues);\r\n        setValues(newValues);\r\n    };\r\n\r\n    useEffect(() => {\r\n        setValuesCardsCount([minValuesRange, maxValuesRange]);\r\n    }, [minValuesRange, maxValuesRange]);\r\n\r\n    return (\r\n        <Range\r\n            values={values}\r\n            step={1}\r\n            min={minValuesRange}\r\n            max={maxValuesRange}\r\n            onChange={values => (setValuesCardsCount(values))}\r\n            renderTrack={({props, children}) => (\r\n                <div\r\n                    onMouseDown={props.onMouseDown}\r\n                    onTouchStart={props.onTouchStart}\r\n                    style={{\r\n                        ...props.style,\r\n                        height: '36px',\r\n                        display: 'flex',\r\n                        width: '50%',\r\n                        margin: '30px',\r\n                    }}\r\n                >\r\n                    <div\r\n                        ref={props.ref}\r\n                        style={{\r\n                            height: '5px',\r\n                            width: '100%',\r\n                            borderRadius: '4px',\r\n                            background: getTrackBackground({\r\n                                values: values,\r\n                                colors: ['#ccc', '#499c35', '#ccc'],\r\n                                min: minValuesRange,\r\n                                max: maxValuesRange\r\n                            }),\r\n                            alignSelf: 'center'\r\n                        }}\r\n                    >\r\n                        {children}\r\n                    </div>\r\n                </div>\r\n            )}\r\n            renderThumb={({index, props, isDragged}) => (\r\n                <div\r\n                    {...props}\r\n                    style={{\r\n                        ...props.style,\r\n                        height: '12px',\r\n                        width: '12px',\r\n                        borderRadius: '1px',\r\n                        backgroundColor: '#FFF',\r\n                        boxShadow: '0px 2px 6px #AAA',\r\n                    }}\r\n                >\r\n                    <div\r\n                        style={{\r\n                            position: 'absolute',\r\n                            top: '-28px',\r\n                            color: '#fff',\r\n                            fontWeight: 'bold',\r\n                            fontSize: '14px',\r\n                            fontFamily: 'Arial,Helvetica Neue,Helvetica,sans-serif',\r\n                            padding: '4px',\r\n                            borderRadius: '4px',\r\n                            backgroundColor: '#499c35'\r\n                        }}\r\n                    >\r\n                        {values[index].toFixed(0)}\r\n                    </div>\r\n                    <div style={{height: '16px', width: '5px', backgroundColor: isDragged ? '#548BF4' : '#CCC'}}/>\r\n                </div>\r\n            )}\r\n        />\r\n    );\r\n};\r\n\r\nexport default CardsCountRange;\r\n","import React, {ChangeEvent} from \"react\";\r\nimport classes from './Search.module.scss'\r\nimport Input from \"../common/Input/Input\";\r\nimport Button from \"../common/Button/Button\";\r\nimport CardsCountRange from \"../common/Range/Range\";\r\n\r\ntype SearchPropsType = {\r\n    inputLabel: string\r\n    setValuesRange: (newValuesRange: number[]) => void\r\n    minValuesRange: number\r\n    maxValuesRange: number\r\n    valueSearchName: string\r\n    changeInputSearch: (e: ChangeEvent<HTMLInputElement>) => void\r\n    search: () => void\r\n    secondInput?: boolean\r\n    secondInputLabel?: string\r\n    valueSecondSearchName?: string\r\n    changeSecondInputSearch?: (e: ChangeEvent<HTMLInputElement>) => void\r\n}\r\n\r\nexport const Search = ({inputLabel, setValuesRange, minValuesRange, maxValuesRange, valueSearchName, changeInputSearch, search, secondInput = false, ...props}: SearchPropsType) => {\r\n    return (\r\n        <div className={classes.search}>\r\n            <CardsCountRange setValuesRange={setValuesRange} minValuesRange={minValuesRange}\r\n                             maxValuesRange={maxValuesRange}/>\r\n            <div className={classes.search_item}>\r\n                <Input labelTitle={inputLabel} value={valueSearchName} onChange={changeInputSearch}/>\r\n                {secondInput &&\r\n                <Input labelTitle={props.secondInputLabel}\r\n                       value={props.valueSecondSearchName}\r\n                       onChange={props.changeSecondInputSearch}/>}\r\n                <Button labelTitle={'Search'} onClick={search}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport classes from \"./Paginator.module.scss\"\r\n\r\ntype PaginatorPropsType = {\r\n    page: number\r\n    pageCount: number\r\n    cardPacksTotalCount: number\r\n    getCardPacksPage: (page: number, pageCount: number) => void\r\n}\r\n\r\nconst Paginator = ({page, pageCount, cardPacksTotalCount, getCardPacksPage}: PaginatorPropsType) => {\r\n    const onChangeSelect = (e: any) => {\r\n        getCardPacksPage(page, e.currentTarget.value)\r\n    }\r\n    let pages = []\r\n    const lastPage = Math.ceil(cardPacksTotalCount / pageCount)\r\n\r\n    for (let i = 1; i <= lastPage; i++) pages.push((\r\n        <button\r\n            key={i}\r\n            style={{background: page === i ? '#138808' : undefined}}\r\n            onClick={() => getCardPacksPage(i, pageCount)}\r\n        >\r\n            {i}\r\n        </button>\r\n    ));\r\n    pages = pages.filter((p, i) => i < (page + 2) || i === (lastPage));\r\n\r\n    pages = pages.filter((p, i) => i > page - 4);\r\n\r\n\r\n    return (\r\n        <div className={classes.paginator}>\r\n            <div>\r\n                <select value={pageCount} onChange={onChangeSelect} className={classes.paginator_item}>\r\n                    <option value={4}>4</option>\r\n                    <option value={7}>7</option>\r\n                    <option value={10}>10</option>\r\n                    <option value={20}>20</option>\r\n                    <option value={50}>50</option>\r\n                </select>\r\n            </div>\r\n            <div className={classes.paginator_item}>\r\n                <button\r\n                    onClick={() => {\r\n                        getCardPacksPage(page - 1, pageCount)\r\n                    }}\r\n                    disabled={page === 1}\r\n                >-\r\n                </button>\r\n                {pages}\r\n                <button\r\n                    onClick={() => getCardPacksPage(page + 1, pageCount)}\r\n                    disabled={page === lastPage}\r\n                >+\r\n                </button>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Paginator","import React, {ButtonHTMLAttributes, DetailedHTMLProps} from 'react'\r\nimport classes from './SortButton.module.scss'\r\n\r\ntype InputPropsType\r\n    = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>\r\n    & {onClickOne: () => void, onClickTwo: () => void}\r\n\r\nconst SortButton = (props: InputPropsType) => {\r\n    return (\r\n        <span>\r\n            <button className={classes.btn} {...props} onClick={props.onClickOne}> {'h'}</button>\r\n            <button className={classes.btn} {...props} onClick={props.onClickTwo}> {'k'}</button>\r\n        </span>\r\n\r\n    )\r\n}\r\n\r\nexport default React.memo(SortButton)\r\n","import styled from 'styled-components'\r\nimport Popup from \"reactjs-popup\";\r\n\r\nexport const StyledModal = styled(Popup)`\r\n    // animation on Modal Open\r\n    @keyframes anvil {\r\n      0% {\r\n        transform: scale(1) translateY(0px);\r\n        opacity: 0;\r\n        box-shadow: 0 0 0 rgba(241, 241, 241, 0);\r\n      }\r\n      1% {\r\n        transform: scale(0.96) translateY(10px);\r\n        opacity: 0;\r\n        box-shadow: 0 0 0 rgba(241, 241, 241, 0);\r\n      }\r\n      100% {\r\n        transform: scale(1) translateY(0px);\r\n        opacity: 1;\r\n        box-shadow: 0 0 500px rgba(241, 241, 241, 0);\r\n      }\r\n    }\r\n    \r\n  // custom style for \".popup-overlay\"\r\n  &-overlay {\r\n    background: rgba(0, 0, 0, 0.7);\r\n  }\r\n  \r\n  // custom style for \".popup-content\"\r\n  &-content {    \r\n    width: 90%;\r\n    max-width: 550px;\r\n    padding: 30px;\r\n    margin: auto;\r\n    background: #fff;\r\n    -webkit-animation: anvil 0.3s cubic-bezier(0.38, 0.1, 0.36, 0.9) forwards;\r\n  }\r\n`;","import React, {ReactNode, useState} from 'react'\r\nimport styles from './Modal.module.scss';\r\nimport {StyledModal} from \"./StyledModal\";\r\n\r\nconst Modal = (props: ModalPropsType) => {\r\n    return (\r\n        <StyledModal open={props.open} onClose={props.close} modal nested>\r\n            <div className={styles.modal}>\r\n                <button className={styles.close} onClick={props.close}>&times;</button>\r\n                <h3 className={styles.header}>{props.header}</h3>\r\n                <div className={styles.content}>\r\n                    {props.children}\r\n                </div>\r\n            </div>\r\n        </StyledModal>\r\n    )\r\n}\r\n\r\nexport default Modal;\r\n\r\ntype ModalPropsType = {\r\n    header: string\r\n    children: ReactNode\r\n    open: any\r\n    close: any\r\n}","import React, {DetailedHTMLProps, InputHTMLAttributes} from 'react'\r\nimport classes from './Checkbox.module.scss'\r\n\r\ntype CheckboxPropsType\r\n   = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n   & {labelTitle?: string}\r\n\r\nconst Checkbox = (props: CheckboxPropsType) => {\r\n   const {labelTitle, ...restProps} = props\r\n   return (\r\n      <label className={classes.label}>\r\n         {labelTitle && <span className={classes.label}>{labelTitle}</span>}\r\n         <input {...restProps}\r\n                type=\"checkbox\"\r\n                className={classes.checkbox}/>\r\n         <div className={classes.customCheckbox}></div>\r\n      </label>\r\n   )\r\n}\r\n\r\nexport default React.memo(Checkbox)\r\n","import React from 'react'\r\nimport styles from './Preloader.module.css'\r\nimport preloader from '../../../assets/images/loader.svg'\r\n\r\nconst Preloader = () => {\r\n   return (\r\n      <div className={styles.wrapper}>\r\n         <img src={preloader} className={styles.img} alt='loader'/>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default React.memo(Preloader)\r\n","import Button from \"../../common/Button/Button\";\r\nimport Modal from \"../../common/Modal/Modal\";\r\nimport classes from \"../Cards.module.scss\";\r\nimport {Input} from \"../../common\";\r\nimport React, {ChangeEvent, useState} from \"react\";\r\nimport {EditCardModelType, editCardTC} from \"../../../reducers/cards-reducer\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nconst ModalEditCard = (props: PropsType) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const [editCardModal, setEditCardModal] = useState(false);\r\n    const closeEditCardModal = () => setEditCardModal(false);\r\n    const [editCardQuestion, setEditCardQuestion] = useState(props.question)\r\n    const [editCardAnswer, setEditCardAnswer] = useState(props.answer)\r\n\r\n    const editCard = (card_id: string, model: EditCardModelType) => {\r\n        dispatch(editCardTC(card_id, model, props.packId))\r\n        closeEditCardModal()\r\n    }\r\n\r\n    const cancelEditCard = () => {\r\n        setEditCardQuestion(props.question)\r\n        setEditCardAnswer(props.answer)\r\n        closeEditCardModal()\r\n    }\r\n\r\n    const onEditCardQuestion = (e: ChangeEvent<HTMLInputElement>) => setEditCardQuestion(e.currentTarget.value)\r\n    const onEditCardAnswer = (e: ChangeEvent<HTMLInputElement>) => setEditCardAnswer(e.currentTarget.value)\r\n\r\n    return (\r\n        <>\r\n            <Button onClick={() => setEditCardModal(o => !o)} labelTitle='Edit a Card'/>\r\n            <Modal header={'Edit the Card'} open={editCardModal} close={closeEditCardModal}>\r\n                <div className={classes.modalInnerWrap}>\r\n                    <Input labelTitle='Question' value={editCardQuestion} onChange={onEditCardQuestion}/>\r\n                    <Input labelTitle='Answer' value={editCardAnswer} onChange={onEditCardAnswer}/>\r\n                    <div className={classes.modalBtns}>\r\n                        <Button labelTitle={'Cancel'} onClick={cancelEditCard}/>\r\n                        <Button labelTitle={'Confirm'} onClick={() => editCard(props.cardId, {\r\n                            question: editCardQuestion,\r\n                            answer: editCardAnswer\r\n                        })}/>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ModalEditCard;\r\n\r\ntype PropsType = {\r\n    question: string\r\n    answer: string\r\n    packId: string\r\n    cardId: string\r\n}","import Button from \"../../common/Button/Button\";\r\nimport Modal from \"../../common/Modal/Modal\";\r\nimport classes from \"../Cards.module.scss\";\r\nimport React, {useState} from \"react\";\r\nimport {removeCardTC} from \"../../../reducers/cards-reducer\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nconst ModalRemoveCard = (props: PropsType) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const [deleteCardModal, setDeleteCardModal] = useState(false);\r\n    const closeDeleteCardModal = () => setDeleteCardModal(false);\r\n\r\n    const removeCard = (_id: string) => {\r\n        dispatch(removeCardTC(_id, props.packId))\r\n        closeDeleteCardModal()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Button onClick={() => setDeleteCardModal(o => !o)} labelTitle='Delete'/>\r\n            <Modal header={'Delete the Card'} open={deleteCardModal} close={closeDeleteCardModal}>\r\n                <div className={classes.modalInnerWrap}>\r\n                    <p>Are you sure you want to delete <strong>\"{props.question}\"?</strong></p>\r\n                    <div className={classes.modalBtns}>\r\n                        <Button labelTitle={'Cancel'} onClick={closeDeleteCardModal}/>\r\n                        <Button labelTitle={'Confirm'} onClick={() => removeCard(props.cardId)}/>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\ntype PropsType = {\r\n    question: string\r\n    packId: string\r\n    cardId: string\r\n}\r\n\r\nexport default ModalRemoveCard;","import Button from \"../../common/Button/Button\";\r\nimport Modal from \"../../common/Modal/Modal\";\r\nimport classes from \"../Cards.module.scss\";\r\nimport {Input} from \"../../common\";\r\nimport React, {ChangeEvent, useState} from \"react\";\r\nimport {addCardTC} from \"../../../reducers/cards-reducer\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nconst ModalAddCard = (props: PropsType) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const [newCardModal, setNewCardModal] = useState(false);\r\n    const closeNewCardModal = () => setNewCardModal(false);\r\n    const [newCardQuestion, setNewCardQuestion] = useState('')\r\n    const [newCardAnswer, setNewCardAnswer] = useState('')\r\n\r\n    const addCard = (question: string, answer: string) => {\r\n        dispatch(addCardTC(props.packId, question, answer))\r\n        setNewCardQuestion('')\r\n        setNewCardAnswer('')\r\n        closeNewCardModal()\r\n    }\r\n\r\n    const cancelAddCard = () => {\r\n        setNewCardQuestion('')\r\n        setNewCardAnswer('')\r\n        closeNewCardModal()\r\n    }\r\n\r\n    const onAddCardQuestion = (e: ChangeEvent<HTMLInputElement>) => setNewCardQuestion(e.currentTarget.value)\r\n    const onAddCardAnswer = (e: ChangeEvent<HTMLInputElement>) => setNewCardAnswer(e.currentTarget.value)\r\n\r\n    return (\r\n        <>\r\n            <Button onClick={() => setNewCardModal(o => !o)} labelTitle='Add a Card'/>\r\n            <Modal header={'Add new Card'} open={newCardModal} close={closeNewCardModal}>\r\n                <div className={classes.modalInnerWrap}>\r\n                    <Input labelTitle='Question' value={newCardQuestion} onChange={onAddCardQuestion}/>\r\n                    <Input labelTitle='Answer' value={newCardAnswer} onChange={onAddCardAnswer}/>\r\n                    <div className={classes.modalBtns}>\r\n                        <Button labelTitle={'Cancel'} onClick={cancelAddCard}/>\r\n                        <Button labelTitle={'Confirm'} onClick={() => addCard(newCardQuestion, newCardAnswer)}/>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n            </>\r\n    )\r\n}\r\n\r\nexport default ModalAddCard;\r\n\r\ntype PropsType = {\r\n    packId: string\r\n}","import React, {ChangeEvent, useEffect, useState} from 'react'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../reducers/store\";\r\nimport {\r\n    getCardsTC,\r\n    searchCardsTC,\r\n    setAnswerCardsAC,\r\n    setCardsPageAC,\r\n    setCardsPageCountAC,\r\n    setMinMaxCardsGradsAC,\r\n    setQuestionCardsAC,\r\n    setSortCardsAC\r\n} from \"../../reducers/cards-reducer\";\r\nimport {CardsType} from \"../../api/cards-api\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport classes from './Cards.module.scss';\r\nimport {Search} from \"../Search/Search\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport SortButton from \"../common/SortButton/SortButton\";\r\nimport ModalEditCard from \"./Modals/ModalEditCard\";\r\nimport ModalRemoveCard from \"./Modals/ModalRemoveCard\";\r\nimport ModalAddCard from \"./Modals/ModalAddCard\";\r\n\r\nconst Cards = () => {\r\n\r\n    const cards = useSelector<AppRootStateType, Array<CardsType>>(state => state.cards.cards)\r\n    const minGrade = useSelector<AppRootStateType, number>(state => state.cards.minGrade)\r\n    const maxGrade = useSelector<AppRootStateType, number>(state => state.cards.maxGrade)\r\n    const cardsAnswer = useSelector<AppRootStateType, string>(state => state.cards.cardsAnswer)\r\n    const cardsQuestion = useSelector<AppRootStateType, string>(state => state.cards.cardsQuestion)\r\n    const page = useSelector<AppRootStateType, number>(state => state.cards.page)\r\n    const pageCount = useSelector<AppRootStateType, number>(state => state.cards.pageCount)\r\n    const cardsTotalCount = useSelector<AppRootStateType, number>(state => state.cards.cardsTotalCount)\r\n\r\n\r\n    const {packId} = useParams();\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getCardsTC(packId))\r\n    }, [])\r\n\r\n    const getCardsPage = (page: number, pageCount: number) => {\r\n        dispatch(setCardsPageAC(page))\r\n        dispatch(setCardsPageCountAC(pageCount))\r\n        dispatch(searchCardsTC(packId))\r\n    }\r\n\r\n    const changeInputSearch = (e: ChangeEvent<HTMLInputElement>) => {\r\n        dispatch(setAnswerCardsAC(e.currentTarget.value))\r\n    }\r\n\r\n    const changeSecondInputSearch = (e: ChangeEvent<HTMLInputElement>) => {\r\n        dispatch(setQuestionCardsAC(e.currentTarget.value))\r\n    }\r\n\r\n    const setValuesRange = (newValuesRange: number[]) => {\r\n        dispatch(setMinMaxCardsGradsAC(newValuesRange))\r\n    }\r\n\r\n    const search = () => {\r\n        dispatch(searchCardsTC(packId))\r\n    }\r\n\r\n    const sortPacksUpdateTop = () => {\r\n        dispatch(setSortCardsAC('1updated'))\r\n        dispatch(searchCardsTC(packId))\r\n    }\r\n\r\n    const sortPacksUpdateBottom = () => {\r\n        dispatch(setSortCardsAC('0updated'))\r\n        dispatch(searchCardsTC(packId))\r\n    }\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <Search\r\n                inputLabel={'Answer'}\r\n                setValuesRange={setValuesRange}\r\n                minValuesRange={minGrade}\r\n                maxValuesRange={maxGrade}\r\n                valueSearchName={cardsAnswer}\r\n                changeInputSearch={changeInputSearch}\r\n                search={search}\r\n                secondInput={true}\r\n                secondInputLabel={'Question'}\r\n                changeSecondInputSearch={changeSecondInputSearch}\r\n                valueSecondSearchName={cardsQuestion}\r\n            />\r\n            <h1>Cards</h1>\r\n            <ModalAddCard packId={packId}/>\r\n\r\n            <div className={classes.table}>\r\n                <div className={`${classes.tableHeader} ${classes.tableRow}`}>\r\n                    <div><strong>Question</strong></div>\r\n                    <div><strong>Answer</strong></div>\r\n                    <div>\r\n                        <strong>Last Update</strong>\r\n                        <SortButton onClickOne={sortPacksUpdateTop} onClickTwo={sortPacksUpdateBottom}/>\r\n                    </div>\r\n                    <div><strong>Actions</strong></div>\r\n                </div>\r\n\r\n                {cards && cards.map(c => {\r\n                        const cardUpdateDate = new Date(c.updated)\r\n                        return (\r\n                            <div key={c._id} className={classes.tableRow}>\r\n                                <div>{c.question}</div>\r\n                                <div>{c.answer}</div>\r\n                                <div>{cardUpdateDate.toLocaleString()}</div>\r\n                                <div>\r\n                                    <ModalEditCard question={c.question} answer={c.answer} packId={packId} cardId={c._id}/>\r\n                                    <ModalRemoveCard question={c.question} packId={packId} cardId={c._id}/>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                )}\r\n            </div>\r\n\r\n            <Paginator page={page} pageCount={pageCount} cardPacksTotalCount={cardsTotalCount}\r\n                       getCardPacksPage={getCardsPage}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cards;\r\n","import {instance} from \"./api\";\r\nimport {EditCardPackType} from \"../reducers/pack-reducer\";\r\n\r\n\r\nexport const packAPI = {\r\n    addCardPack(name: string, privatePack: boolean) {\r\n        return instance.post<NewCardsPackResponseType>(`cards/pack`, {\r\n            cardsPack: {\r\n                name: name,\r\n                private: privatePack\r\n            }\r\n        })\r\n    },\r\n    editCardPack(_id: string, model: EditCardPackType) {\r\n        return instance.put<NewCardsPackResponseType>(`cards/pack`, {\r\n            cardsPack: {\r\n                _id: _id,\r\n                name: model.name,\r\n                private: model.private,\r\n                rating: model.rating\r\n            }\r\n        })\r\n    },\r\n    removeCardPack(pack_id: string) {\r\n        return instance.delete<CardsPackResponseType>(`cards/pack?id=${pack_id}`)\r\n    },\r\n    getCardPacks(user_id?: string, searchName?: string, min?: number, max?: number, sortPacks?: string, page?: number, pageCount?: number) {\r\n        return instance.get<CardsPackResponseType>(`cards/pack`\r\n            + (user_id? `?user_id=${user_id}` : '?')\r\n            + (searchName? `packName=${searchName}` : '')\r\n            + (max ? `&min=${min}&max=${max}` : '')\r\n            + (sortPacks ? `&sortPacks=${sortPacks}` : '')\r\n            + (page ? `&page=${page}` : '')\r\n            + (pageCount ? `&pageCount=${pageCount}` : '')\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport type CardsPackResponseType = {\r\n    cardPacks: Array<CardsPackType>\r\n    cardPacksTotalCount: number\r\n    maxCardsCount: number\r\n    minCardsCount: number\r\n    page: number\r\n    pageCount: number\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\n\r\n\r\n\r\nexport type NewCardsPackResponseType = {\r\n    newCardsPack: newCardsType\r\n}\r\n\r\nexport type newCardsType = {\r\n    cardsCount: number\r\n    created: string\r\n    //deckCover: string\r\n    grade: number\r\n    more_id: string\r\n    name: string\r\n    path: string\r\n    private: boolean\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    updated: string\r\n    user_id: string\r\n    user_name: string\r\n    __v: number\r\n    _id: string\r\n}\r\n\r\nexport type CardsPackType = {\r\n    cardsCount: number\r\n    created: string\r\n    //deckCover: string\r\n    grade: number\r\n    more_id: string\r\n    name: string\r\n    path: string\r\n    private: boolean\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    updated: string\r\n    user_id: string\r\n    user_name: string\r\n    __v: number\r\n    _id: string\r\n}","import {Dispatch} from \"redux\";\r\nimport {ErrorACType, isFetchingAC, isFetchingACType} from \"./request-reducer\";\r\nimport {CardsPackType, packAPI} from \"../api/pack-api\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"./store\";\r\n\r\nlet initialState = {\r\n    cardPacks: [] as CardsPackType[],\r\n    cardPacksTotalCount: 0,\r\n    packName: '',\r\n    myPacks: false,\r\n    min: 0,\r\n    max: 100,\r\n    sortPacks: '',\r\n    maxCardsCount: 100,\r\n    minCardsCount: 0,\r\n    page: 1,\r\n    pageCount: 4,\r\n    token: '',\r\n    tokenDeathTime: 0\r\n}\r\n\r\n\r\nexport const packReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SET_PACKS':\r\n            return {...state, cardPacks: action.cardPacks}\r\n        case 'REMOVE_PACK':\r\n            return {...state, cardPacks: state.cardPacks.filter((pack) => pack._id != action._id)}\r\n        case 'ADD_PACK':\r\n            return {...state, cardPacks: [action.newPack, ...state.cardPacks]}\r\n        case 'SEARCH_PACK_NAME':\r\n            return {...state, packName: action.packName}\r\n        case 'SET_MIN_MAX_CARDS_COUNT':\r\n            return {...state, min: action.newValues[0], max: action.newValues[1]}\r\n        case 'SET_PAGE_COUNT':\r\n            return {...state, pageCount: action.pageCount}\r\n        case 'SET_PAGE':\r\n            return {...state, page: action.page}\r\n        case 'SET_MY_PACKS':\r\n            return {...state, myPacks: action.myPacks}\r\n        case 'SET_SORT_PACKS':\r\n            return {...state, sortPacks: action.sortPacks}\r\n        case 'SET_CARD_PACKS_TOTAL_COUNT':\r\n            return {...state, cardPacksTotalCount: action.cardPacksTotalCount}\r\n        case 'EDIT_PACK':\r\n            return {\r\n                ...state,\r\n                cardPacks: state.cardPacks.map(p => p._id === action.pack_id ? {...p, ...action.model} : p)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n// AC\r\nexport const setPacksAC = (cardPacks: CardsPackType[]) => ({type: 'SET_PACKS', cardPacks} as const)\r\nexport const removePackAC = (_id: string) => ({type: 'REMOVE_PACK', _id} as const)\r\nexport const addPackAC = (newPack: CardsPackType) => ({type: 'ADD_PACK', newPack} as const)\r\nexport const searchPackNameAC = (packName: string) => ({type: 'SEARCH_PACK_NAME', packName} as const)\r\nexport const setMinMAxCardsCountAC = (newValues: number[]) => ({type: 'SET_MIN_MAX_CARDS_COUNT', newValues} as const)\r\nexport const editPackAC = (pack_id: string, model: EditCardPackType) => ({type: 'EDIT_PACK', pack_id, model} as const)\r\nexport const setPageCountAC = (pageCount: number) => ({type: 'SET_PAGE_COUNT', pageCount} as const)\r\nexport const setPageAC = (page: number) => ({type: 'SET_PAGE', page} as const)\r\nexport const setMyPacksAC = (myPacks: boolean) => ({type: 'SET_MY_PACKS', myPacks} as const)\r\nexport const setSortPacksAC = (sortPacks: string) => ({type: 'SET_SORT_PACKS', sortPacks} as const)\r\nexport const setCardPacksTotalCountAC = (cardPacksTotalCount: number) => ({\r\n    type: 'SET_CARD_PACKS_TOTAL_COUNT',\r\n    cardPacksTotalCount\r\n} as const)\r\n\r\n// thunks\r\n\r\nexport const removePackTC = (_id: string, user_id: string) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>) => {\r\n    dispatch(isFetchingAC(true))\r\n    packAPI.removeCardPack(_id)\r\n        .then(res => {\r\n            dispatch(isFetchingAC(false))\r\n            dispatch(removePackAC(_id))\r\n            dispatch(getPackTC())\r\n        })\r\n        .catch((error) => {\r\n            console.log(error.response.data.error)\r\n            dispatch(isFetchingAC(false))\r\n        })\r\n}\r\n\r\nexport const addPackTC = (name: string, privatePack: boolean, user_id: string) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>) => {\r\n    dispatch(isFetchingAC(true))\r\n    packAPI.addCardPack(name, privatePack)\r\n        .then(res => {\r\n            dispatch(isFetchingAC(false))\r\n            dispatch(addPackAC(res.data.newCardsPack))\r\n            dispatch(getPackTC())\r\n        })\r\n        .catch((error) => {\r\n            console.log(error.response.data.error)\r\n            dispatch(isFetchingAC(false))\r\n        })\r\n}\r\n\r\nexport const editPackTC = (pack_id: string, model: EditCardPackType, user_id: string) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>) => {\r\n    dispatch(isFetchingAC(true))\r\n    packAPI.editCardPack(pack_id, model)\r\n        .then(res => {\r\n            dispatch(isFetchingAC(false))\r\n            editPackAC(pack_id, model)\r\n            dispatch(getPackTC())\r\n        })\r\n        .catch((error) => {\r\n            console.log(error.response.data.error)\r\n            dispatch(isFetchingAC(false))\r\n        })\r\n}\r\n\r\nexport const getPackTC = () => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>, getState: () => AppRootStateType) => {\r\n    const {packName, myPacks, min, max, sortPacks, page, pageCount} = getState().packs\r\n    const user_id = myPacks ? getState().login.profile._id : undefined\r\n    dispatch(isFetchingAC(true))\r\n    packAPI.getCardPacks(user_id ,packName, min, max, sortPacks, page, pageCount)\r\n        .then(res => {\r\n            dispatch(isFetchingAC(false))\r\n            dispatch(setPacksAC(res.data.cardPacks))\r\n            dispatch(setCardPacksTotalCountAC(res.data.cardPacksTotalCount))\r\n        })\r\n        .catch((error) => {\r\n            //dispatch(errorAC(error.response.data.error))\r\n            dispatch(isFetchingAC(false))\r\n        })\r\n}\r\n\r\ntype InitialStateType = {\r\n    cardPacks: CardsPackType[]\r\n    cardPacksTotalCount: number\r\n    packName: string\r\n    myPacks: boolean\r\n    min: number\r\n    max: number\r\n    sortPacks: string\r\n    maxCardsCount: number\r\n    minCardsCount: number\r\n    page: number\r\n    pageCount: number\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\n\r\ntype ActionsType =\r\n    setPacksACType\r\n    | removePackACType\r\n    | addPackACType\r\n    | editPackACType\r\n    | searchPackNameACType\r\n    | setMinMAxCardsCountACType\r\n    | setPageCountACType\r\n    | setPageACType\r\n    | setSortPacksACType\r\n    | setMyPacksACType\r\n    | setCardPacksTotalCountACType\r\n    | any\r\n\r\n\r\nexport type EditCardPackType = {\r\n    name?: string\r\n    private?: boolean\r\n    rating?: number\r\n}\r\n\r\n\r\nexport type setPacksACType = ReturnType<typeof setPacksAC>\r\nexport type removePackACType = ReturnType<typeof removePackAC>\r\nexport type addPackACType = ReturnType<typeof addPackAC>\r\nexport type searchPackNameACType = ReturnType<typeof searchPackNameAC>\r\nexport type setMinMAxCardsCountACType = ReturnType<typeof setMinMAxCardsCountAC>\r\nexport type editPackACType = ReturnType<typeof editPackAC>\r\nexport type setPageCountACType = ReturnType<typeof setPageCountAC>\r\nexport type setPageACType = ReturnType<typeof setPageAC>\r\nexport type setSortPacksACType = ReturnType<typeof setSortPacksAC>\r\nexport type setMyPacksACType = ReturnType<typeof setMyPacksAC>\r\nexport type setCardPacksTotalCountACType = ReturnType<typeof setCardPacksTotalCountAC>\r\n\r\n\r\n\r\n","import Modal from \"../../common/Modal/Modal\";\r\nimport classes from \"../Packs.module.scss\";\r\nimport Button from \"../../common/Button/Button\";\r\nimport React, {useState} from \"react\";\r\nimport {removePackTC} from \"../../../reducers/pack-reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../reducers/store\";\r\n\r\nconst ModalRemovePack = (props: ModalTypeProps) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [openDelModal, setOpenDelModal] = useState(false);\r\n    const closeDelModal = () => setOpenDelModal(false);\r\n\r\n    const confirmActionCallback = (_id: string) => {\r\n        dispatch(removePackTC(_id, props.userId))\r\n        closeDelModal()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Button onClick={() => setOpenDelModal(o => !o)} labelTitle='Delete'/>\r\n            <Modal header={'Delete Pack'} open={openDelModal} close={closeDelModal}>\r\n                <div className={classes.modalInnerWrap}>\r\n                    <p>Are you sure you want to delete <strong>\"{props.packName}\"?</strong></p>\r\n                    <div className={classes.modalBtns}>\r\n                        <Button labelTitle={'No'} onClick={closeDelModal}/>\r\n                        <Button labelTitle={'Yes'} onClick={() => confirmActionCallback(props.packId)}/>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\ntype ModalTypeProps = {\r\n    packName: string\r\n    packId: string\r\n    userId: string\r\n}\r\n\r\nexport default ModalRemovePack;","import Button from \"../../common/Button/Button\";\r\nimport Modal from \"../../common/Modal/Modal\";\r\nimport classes from \"../Packs.module.scss\";\r\nimport {Input} from \"../../common\";\r\nimport React, {ChangeEvent, useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {EditCardPackType, editPackTC} from \"../../../reducers/pack-reducer\";\r\n\r\nconst ModalEditPack = (props: ModalEditPackType) => {\r\n    const [openEditModal, setOpenEditModal] = useState(false);\r\n    const closeEditModal = () => setOpenEditModal(false);\r\n    const [editPackName, setEditPackName] = useState(props.currentName)\r\n    const [privatePack, setPrivatePack] = useState(props.currentPrivacyStatus)\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const editPack = (pack_id: string, model: EditCardPackType) => {\r\n        dispatch(editPackTC(pack_id, model, props.userId))\r\n        closeEditModal()\r\n    }\r\n\r\n    const cancelEditPack = () => {\r\n        setEditPackName(props.currentName)\r\n        setPrivatePack(props.currentPrivacyStatus)\r\n        closeEditModal()\r\n    }\r\n\r\n    const onPackNameChange = (e: ChangeEvent<HTMLInputElement>) => setEditPackName(e.currentTarget.value)\r\n    const onPackPrivacyChange = (e: ChangeEvent<HTMLInputElement>) => setPrivatePack(e.currentTarget.checked)\r\n\r\n    return (\r\n        <>\r\n            <Button onClick={() => setOpenEditModal(o => !o)} labelTitle='Edit'/>\r\n            <Modal header={'Edit Pack Data'} open={openEditModal} close={closeEditModal}>\r\n                <div className={classes.modalInnerWrap}>\r\n                    <Input labelTitle='Name' value={editPackName}\r\n                           onChange={onPackNameChange}/>\r\n                    <label className={classes.checkboxWrap}>\r\n                        <input type='checkbox' checked={privatePack} onChange={onPackPrivacyChange}/>\r\n                        This is my <strong>private</strong> pack\r\n                    </label>\r\n                    <div className={classes.modalBtns}>\r\n                        <Button labelTitle={'Cancel'} onClick={cancelEditPack}/>\r\n                        <Button labelTitle={'Confirm'} onClick={() => editPack(props.packId, {\r\n                            name: editPackName,\r\n                            private: privatePack\r\n                        })}/>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ModalEditPack;\r\n\r\ntype ModalEditPackType = {\r\n    currentName: string\r\n    currentPrivacyStatus: boolean\r\n    packId: string\r\n    userId: string\r\n}","import Button from \"../../common/Button/Button\";\r\nimport Modal from \"../../common/Modal/Modal\";\r\nimport classes from \"../Packs.module.scss\";\r\nimport {Input} from \"../../common\";\r\nimport React, {ChangeEvent, useState} from \"react\";\r\nimport {addPackTC} from \"../../../reducers/pack-reducer\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nconst ModalAddPack = (props: ModalAddPackType) => {\r\n    const [newPackModal, setNewPackModal] = useState(false);\r\n    const closeNewPackModal = () => setNewPackModal(false);\r\n    const [newPackName, setNewPackName] = useState('')\r\n    const [privatePack, setPrivatePack] = useState(false)\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const addPack = (name: string, privatePack: boolean) => {\r\n        dispatch(addPackTC(name, privatePack, props.userId))\r\n        setNewPackName('')\r\n        setPrivatePack(false)\r\n        closeNewPackModal()\r\n    }\r\n\r\n    const cancelAddPack = () => {\r\n        setNewPackName('')\r\n        setPrivatePack(false)\r\n        closeNewPackModal()\r\n    }\r\n\r\n    const onAddNewPackNameChange = (e: ChangeEvent<HTMLInputElement>) => setNewPackName(e.currentTarget.value)\r\n    const onPackPrivacyChange = (e: ChangeEvent<HTMLInputElement>) => setPrivatePack(e.currentTarget.checked)\r\n\r\n    return (\r\n        <>\r\n            <Button onClick={() => setNewPackModal(o => !o)} labelTitle='Add new Pack'/>\r\n            <Modal header={'Add new Pack'} open={newPackModal} close={closeNewPackModal}>\r\n                <div className={classes.modalInnerWrap}>\r\n                    <Input labelTitle='New Pack Name' value={newPackName}\r\n                           onChange={onAddNewPackNameChange}/>\r\n                    <label className={classes.checkboxWrap}>\r\n                        <input type='checkbox' checked={privatePack} onChange={onPackPrivacyChange}/>\r\n                        This is my <strong>private</strong> pack\r\n                    </label>\r\n                    <div className={classes.modalBtns}>\r\n                        <Button labelTitle={'Cancel'} onClick={cancelAddPack}/>\r\n                        <Button labelTitle={'Confirm'} onClick={() => addPack(newPackName, privatePack)}/>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ModalAddPack;\r\n\r\ntype ModalAddPackType = {\r\n    userId: string\r\n}","import React, {ChangeEvent, useEffect} from 'react'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../reducers/store\";\r\nimport {\r\n    getPackTC,\r\n    searchPackNameAC,\r\n    setMinMAxCardsCountAC,\r\n    setMyPacksAC,\r\n    setPageAC,\r\n    setPageCountAC,\r\n    setSortPacksAC\r\n} from \"../../reducers/pack-reducer\";\r\nimport Button from \"../common/Button/Button\";\r\nimport {CardsPackType} from \"../../api/pack-api\";\r\nimport {Link, Redirect} from 'react-router-dom'\r\nimport {LOGIN} from \"../../route\";\r\nimport classes from './Packs.module.scss'\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {Search} from \"../Search/Search\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport Checkbox from \"../common/Checkbox/Checkbox\";\r\nimport SortButton from \"../common/SortButton/SortButton\";\r\nimport ModalRemovePack from \"./Modals/ModalRemovePack\";\r\nimport ModalEditPack from \"./Modals/ModalEditPack\";\r\nimport ModalAddPack from \"./Modals/ModalAddPack\";\r\n\r\nconst Packs = () => {\r\n    const requestIsFetching = useSelector<AppRootStateType, boolean>(state => state.request.isFetching)\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.login.isLoggedIn)\r\n    const cardPacks = useSelector<AppRootStateType, Array<CardsPackType>>(state => state.packs.cardPacks)\r\n    const user_id = useSelector<AppRootStateType, string>(state => state.login.profile._id)\r\n    const page = useSelector<AppRootStateType, number>(state => state.packs.page)\r\n    const pageCount = useSelector<AppRootStateType, number>(state => state.packs.pageCount)\r\n    const cardPacksTotalCount = useSelector<AppRootStateType, number>(state => state.packs.cardPacksTotalCount)\r\n    const myPacks = useSelector<AppRootStateType, boolean>(state => state.packs.myPacks)\r\n    const minCardsCount = useSelector((state: AppRootStateType) => state.packs.minCardsCount)\r\n    const maxCardsCount = useSelector((state: AppRootStateType) => state.packs.maxCardsCount)\r\n    const valueSearchName = useSelector((state: AppRootStateType) => state.packs.packName)\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getPackTC())\r\n    }, [])\r\n\r\n    const getCardPacksPage = (page: number, pageCount: number) => {\r\n        dispatch(setPageAC(page))\r\n        dispatch(setPageCountAC(pageCount))\r\n        dispatch(getPackTC())\r\n    }\r\n\r\n    const changedMyPack = () => {\r\n        dispatch(setMyPacksAC(!myPacks))\r\n        dispatch(getPackTC())\r\n    }\r\n\r\n    const sortPacksNameTop = () => {\r\n        dispatch(setSortPacksAC('1name'))\r\n        dispatch(getPackTC())\r\n    }\r\n\r\n    const sortPacksNameBottom = () => {\r\n        dispatch(setSortPacksAC('0name'))\r\n        dispatch(getPackTC())\r\n    }\r\n\r\n    const sortPacksUpdateTop = () => {\r\n        dispatch(setSortPacksAC('1updated'))\r\n        dispatch(getPackTC())\r\n    }\r\n\r\n    const sortPacksUpdateBottom = () => {\r\n        dispatch(setSortPacksAC('0updated'))\r\n        dispatch(getPackTC())\r\n    }\r\n\r\n    const changeInputSearch = (e: ChangeEvent<HTMLInputElement>) => {\r\n        dispatch(searchPackNameAC(e.currentTarget.value))\r\n    }\r\n\r\n    const setValuesRange = (newValuesRange: number[]) => {\r\n        dispatch(setMinMAxCardsCountAC(newValuesRange))\r\n    }\r\n\r\n    const search = () => {\r\n        dispatch(getPackTC())\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return <Redirect to={LOGIN}/>\r\n    }\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            {requestIsFetching && <Preloader/>}\r\n            <Search\r\n                inputLabel={'Search'}\r\n                setValuesRange={setValuesRange}\r\n                minValuesRange={minCardsCount}\r\n                maxValuesRange={maxCardsCount}\r\n                valueSearchName={valueSearchName}\r\n                changeInputSearch={changeInputSearch}\r\n                search={search}\r\n                secondInput={false}\r\n            />\r\n            <h1>Packs </h1>\r\n            <Checkbox onChange={changedMyPack} labelTitle={'My packs'}/>\r\n            <ModalAddPack userId={user_id}/>\r\n            <div className={classes.table}>\r\n                <div className={`${classes.tableHeader} ${classes.tableRow}`}>\r\n                    <div>\r\n                        <strong>Name</strong>\r\n                        <SortButton onClickOne={sortPacksNameTop} onClickTwo={sortPacksNameBottom}/>\r\n                    </div>\r\n                    <div><strong>Cards Count</strong></div>\r\n                    <div>\r\n                        <strong>Last Update</strong>\r\n                        <SortButton onClickOne={sortPacksUpdateTop} onClickTwo={sortPacksUpdateBottom}/>\r\n                    </div>\r\n                    <div><strong>Actions</strong></div>\r\n                </div>\r\n\r\n                {cardPacks.map((pack) => {\r\n                    const packUpdateDate = new Date(pack.updated)\r\n                    return (\r\n                        <div key={pack._id} className={classes.tableRow}>\r\n                            <div><strong>{pack.name}</strong> <small> ({pack.private ? 'private' : 'public'}) </small>\r\n                            </div>\r\n                            <div>{pack.cardsCount}</div>\r\n                            <div>{packUpdateDate.toLocaleString()}</div>\r\n                            <div>\r\n                                {pack.user_id === user_id &&\r\n                                <>\r\n                                    <ModalEditPack currentName={pack.name} currentPrivacyStatus={pack.private}\r\n                                                   packId={pack._id} userId={user_id}/>\r\n                                    <ModalRemovePack packName={pack.name} packId={pack._id} userId={user_id}/>\r\n\r\n                                </>}\r\n                                <Link to={`/cards/${pack._id}`}><Button labelTitle={'Show cards'}/></Link>\r\n                                <Link to={`/train/${pack._id}`}><Button labelTitle={'Start train'}/></Link>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n            <Paginator\r\n                page={page}\r\n                pageCount={pageCount}\r\n                cardPacksTotalCount={cardPacksTotalCount}\r\n                getCardPacksPage={getCardPacksPage}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Packs;","import React from 'react'\r\nimport classes from './Train.module.scss'\r\nimport {useParams} from 'react-router-dom'\r\nimport {Button} from '../common'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {getCardsTC, putGradeCardTC} from '../../reducers/cards-reducer'\r\nimport {CardsType} from '../../api/cards-api'\r\nimport {AppRootStateType} from '../../reducers/store'\r\n\r\nconst grades = [1, 2, 3, 4, 5]\r\nconst chooseCard = (cards: CardsType[]) => {\r\n   const sum = cards.reduce((acc, card) => acc + (6 - card.grade) * (6 - card.grade), 0)\r\n   const rand = Math.random() * sum\r\n   const res = cards.reduce((acc: { sum: number, id: number }, card, i) => {\r\n         const newSum = acc.sum + (6 - card.grade) * (6 - card.grade)\r\n         return {sum: newSum, id: newSum < rand ? i : acc.id}\r\n      }\r\n      , {sum: 0, id: -1})\r\n   return cards[res.id + 1]\r\n}\r\n\r\nconst Train = () => {\r\n\r\n   const dispatch = useDispatch()\r\n   const {packID} = useParams()\r\n   const [check, setCheck] = React.useState<boolean>(false)\r\n   const [initTrain, setInitTrain] = React.useState<boolean>(false)\r\n   const cards = useSelector<AppRootStateType, CardsType[]>(state => state.cards.cards)\r\n   const loadingTrainingCard = useSelector<AppRootStateType, boolean>(state => state.cards.loadingTrainingCard)\r\n   const [card, setCard] = React.useState<CardsType>({\r\n      answer: '',\r\n      question: '',\r\n      cardsPack_id: '',\r\n      grade: 0,\r\n      rating: 0,\r\n      shots: 0,\r\n      type: '',\r\n      user_id: '',\r\n      created: '',\r\n      updated: '',\r\n      __v: 0,\r\n      _id: '',\r\n   })\r\n   const [grade, setGrade] = React.useState<number | null>(null)\r\n\r\n   React.useEffect(() => {\r\n      if (!initTrain) {\r\n         dispatch(getCardsTC(packID, 100))\r\n         setInitTrain(true)\r\n      }\r\n      if (cards.length > 0) {\r\n         setCard(chooseCard(cards))\r\n      }\r\n   }, [dispatch, packID, cards])\r\n\r\n   const onClickCheck = () => {\r\n      setCheck(true)\r\n   }\r\n\r\n   const onClickNext = () => {\r\n      setCard(chooseCard(cards))\r\n      if (grade !== null) {\r\n         dispatch(putGradeCardTC(card._id, grade))\r\n         setGrade(null)\r\n         setCheck(false)\r\n      }\r\n   }\r\n\r\n   const onClickGrade = (gradeBtn: number) => {\r\n      setGrade(gradeBtn)\r\n   }\r\n\r\n   return (\r\n      <div className={classes.container}>\r\n         <h1>Train</h1>\r\n         <div className={`${classes.card} ${check ? classes.check : ''}`} onClick={onClickCheck}>\r\n            <div className={`${classes.front} ${loadingTrainingCard ? classes.loading : ''}`}>\r\n               <h3 className={classes.cardTitle}>Question</h3>\r\n               <div className={classes.cardContent}>\r\n                  <span className={classes.cardText}>{card.question}</span>\r\n                  {/*<div>Grade: {Math.floor(card.grade)}</div>*/}\r\n               </div>\r\n            </div>\r\n            <div className={classes.back}>\r\n               <div className={classes.cardContent}>\r\n                  <h3 className={classes.cardTitle}>Answer</h3>\r\n                  <span className={classes.cardText}>{card.answer}</span>\r\n               </div>\r\n            </div>\r\n         </div>\r\n\r\n         {\r\n            check && <div className={classes.actionMenu}>\r\n                <div className={classes.gradesBtnGroup}>\r\n                   {\r\n                      grades.map(g =>\r\n                         <Button key={g}\r\n                                 labelTitle={g.toString()}\r\n                                 onClick={() => onClickGrade(g)}\r\n                                 style={{transform: g === grade ? 'scale(1.1)' : ''}}\r\n                         />)\r\n                   }\r\n                </div>\r\n                <Button labelTitle={'Next'} onClick={onClickNext} disabled={grade === null}/>\r\n            </div>\r\n         }\r\n\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default React.memo(Train)\r\n","import React, {Suspense} from 'react'\r\nimport './App.css'\r\nimport {Route, Switch} from 'react-router-dom'\r\nimport * as paths from './route'\r\nimport Login from './components/Login/Login'\r\nimport Profile from './components/Profile/Profile'\r\nimport Header from './components/Header/Header'\r\nimport Cards from \"./components/Cards/Cards\";\r\nimport Packs from \"./components/Packs/Packs\";\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {AppRootStateType} from \"./reducers/store\";\r\nimport {authSucessTC} from './reducers/login-reducer'\r\nimport {Preloader} from './components/common'\r\nimport Train from './components/Train/Train'\r\n\r\nconst Registration = React.lazy(() => import('./components/Registration/Registration'))\r\nconst RestorePassword = React.lazy(() => import('./components/RestorePassword/RestorePassword'))\r\nconst NewPassword = React.lazy(() => import('./components/NewPassword/NewPassword'))\r\nconst NotFound = React.lazy(() => import('./components/NotFound/NotFound'))\r\n\r\nfunction App() {\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.login.isLoggedIn)\r\n    const requestIsFetching = useSelector<AppRootStateType, boolean>(state => state.request.isFetching)\r\n    const dispatch = useDispatch();\r\n\r\n/*    React.useEffect(() => {\r\n        dispatch(authSucessTC())\r\n    }, [])*/\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            {requestIsFetching && <Preloader/>}\r\n            <Header/>\r\n            <div className=\"content\">\r\n                <Suspense fallback={<Preloader/>}>\r\n                    <Switch>\r\n                        <Route exact path='/' render={() => isLoggedIn ? <Profile/> : <Login/>}/>\r\n                        <Route path={paths.LOGIN} render={() => <Login/>}/>\r\n                        <Route path={paths.PROFILE} render={() => <Profile/>}/>\r\n                        <Route path={paths.PACKS} render={() => <Packs/>}/>\r\n                        <Route path={paths.CARDS} render={() => <Cards/>}/>\r\n                        <Route path={paths.TRAIN} render={() => <Train/>}/>\r\n\r\n                        <Route path={paths.REGISTRATION} render={() => <Registration/>}/>\r\n                        <Route path={paths.RESTORE_PASSWORD} render={() => <RestorePassword/>}/>\r\n                        <Route path={paths.NEW_PASSWORD} render={() => <NewPassword/>}/>\r\n\r\n                        <Route component={NotFound}/>\r\n                    </Switch>\r\n                </Suspense>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {loginReducer} from \"./login-reducer\";\r\nimport {newPswReducer} from \"./newPassword-reducer\";\r\nimport {restorePswReducer} from \"./restorePassword-reducer\";\r\nimport {registrationReducer} from \"./registration-reducer\";\r\nimport {requestReducer} from \"./request-reducer\";\r\nimport {packReducer} from \"./pack-reducer\";\r\nimport {cardsReducer} from \"./cards-reducer\";\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    login: loginReducer,\r\n    newPsw: newPswReducer,\r\n    restorePsw: restorePswReducer,\r\n    registration: registrationReducer,\r\n    request: requestReducer,\r\n    packs: packReducer,\r\n    cards: cardsReducer\r\n})\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunkMiddleware)));\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>\r\n// @ts-ignore\r\nwindow.store = store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {Provider} from 'react-redux';\r\nimport {store} from \"./reducers/store\";\r\nimport {HashRouter} from \"react-router-dom\";\r\n\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <Provider store={store}>\r\n            <HashRouter>\r\n                <App/>\r\n            </HashRouter>\r\n        </Provider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Packs_container__2Uv5c\",\"table\":\"Packs_table__1SSVS\",\"tableRow\":\"Packs_tableRow__1yRlX\",\"tableHeader\":\"Packs_tableHeader__kNgj8\",\"modalInnerWrap\":\"Packs_modalInnerWrap__3WgNp\",\"checkboxWrap\":\"Packs_checkboxWrap__1Cx_G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Cards_container__3jJh8\",\"table\":\"Cards_table__1OEYJ\",\"tableRow\":\"Cards_tableRow__nwf7S\",\"tableHeader\":\"Cards_tableHeader__1Rk_X\",\"modalInnerWrap\":\"Cards_modalInnerWrap__3ohbh\",\"checkboxWrap\":\"Cards_checkboxWrap__2LHr9\"};","let initialState = {\r\n   error: '',\r\n   isFetching: false,\r\n}\r\n\r\nexport type InitialState = typeof initialState\r\n\r\nexport const requestReducer = (state: InitialState = initialState, action: InitReducerActionsType) => {\r\n   switch (action.type) {\r\n      case 'REQUEST_ERROR':\r\n         return {...state, error: action.error}\r\n      case 'REQUEST_IS_FETCHING':\r\n         return {...state, isFetching: action.isFetching}\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\nexport const errorAC = (error: string) => ({type: 'REQUEST_ERROR', error} as const)\r\nexport const isFetchingAC = (isFetching: boolean) => ({type: 'REQUEST_IS_FETCHING', isFetching} as const)\r\n\r\n\r\n// TYPES\r\nexport type ErrorACType = ReturnType<typeof errorAC>\r\nexport type isFetchingACType = ReturnType<typeof isFetchingAC>\r\ntype InitReducerActionsType = ErrorACType | isFetchingACType\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Train_container__3gSBM\",\"card\":\"Train_card__2Qk4b\",\"cardContent\":\"Train_cardContent__14aaz\",\"front\":\"Train_front__2htEf\",\"back\":\"Train_back__3GXfM\",\"cardTitle\":\"Train_cardTitle__2iunJ\",\"cardText\":\"Train_cardText__29tqv\",\"check\":\"Train_check__36zKG\",\"loading\":\"Train_loading__2kJn3\",\"rotate\":\"Train_rotate__jDuFr\",\"gradesBtnGroup\":\"Train_gradesBtnGroup__3FF6o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Navbar_menu__Mhcmp\",\"menuTitle\":\"Navbar_menuTitle__19_Im\",\"switch\":\"Navbar_switch__1pOjJ\",\"active\":\"Navbar_active__1XbSl\",\"navbar\":\"Navbar_navbar__3Queb\",\"activeLink\":\"Navbar_activeLink__15t2E\"};","import {instance} from './api'\r\n\r\n\r\nexport const authAPI = {\r\n   login: (data: LoginParamsType) =>\r\n      instance.post<LoginResponseType>('auth/login', data),\r\n   authMe: () =>\r\n      instance.post<LoginResponseType>('auth/me'),\r\n   logout: () =>\r\n      instance.delete<LoginResponseType>('auth/me'),\r\n   forgot: (data: ForgotParamsType) =>\r\n      instance.post<ForgotResponseType>('auth/forgot', data),\r\n   sendNewPassword: (data: NewPasswordParamsType) =>\r\n      instance.post<NewPasswordResponseType>('auth/set-new-password', data),\r\n   registration: (data: RegistrationParamsType) =>\r\n      instance.post<RegistrationResponseType>('auth/register', data),\r\n}\r\n\r\n// TYPES\r\n\r\nexport type LoginParamsType = {\r\n   password: string,\r\n   email: string,\r\n   rememberMe: boolean,\r\n}\r\n\r\nexport type LoginResponseType = {\r\n   _id: string,\r\n   email: string,\r\n   name: string,\r\n   avatar?: string,\r\n   publicCardPacksCount: number, // количество колод\r\n\r\n   created: string,\r\n   updated: string,\r\n   isAdmin: boolean,\r\n   verified: boolean, // подтвердил ли почту\r\n   rememberMe: boolean,\r\n\r\n   error: string,\r\n}\r\n\r\nexport type AddedUserType = {\r\n   email: string,\r\n   isAdmin: boolean,\r\n   __v: number,\r\n   _id: string,\r\n}\r\n\r\nexport type RegistrationResponseType = {\r\n   addedUser: AddedUserType,\r\n   success: boolean,\r\n}\r\n\r\n// export type LoginResponseErrorType = {\r\n//    body: LoginParamsType,\r\n//    error: string,\r\n//    method: string,\r\n//    query: {},\r\n//    url: string,\r\n// }\r\n\r\nexport type ForgotParamsType = {\r\n   email: string,\r\n   from: string,\r\n   message: string,\r\n}\r\n\r\nexport type ForgotResponseType = {\r\n   answer: boolean,\r\n   html: boolean,\r\n   info: string,\r\n   success: boolean,\r\n}\r\n\r\nexport type NewPasswordParamsType = {\r\n   password: string,\r\n   resetPasswordToken: string,\r\n}\r\n\r\nexport type NewPasswordResponseType = {\r\n   info: string,\r\n}\r\n\r\nexport type RegistrationParamsType = {\r\n   email: string,\r\n   password: string,\r\n   repeatPassword?: string,\r\n}\r\n\r\nexport type FormErrorType = {\r\n   email?: string,\r\n   password?: string,\r\n   repeatPassword?: string,\r\n   rememberMe?: boolean,\r\n}\r\n\r\n","import React, {DetailedHTMLProps, InputHTMLAttributes} from 'react'\r\nimport classes from './Input.module.scss'\r\nimport Icons from '../Icons/Icons'\r\n\r\ntype InputPropsType\r\n   = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n   & { labelTitle?: string, error?: string }\r\n\r\nconst Input = (props: InputPropsType) => {\r\n\r\n   const [showPassword, setShowPassword] = React.useState<boolean>(false)\r\n\r\n   const handleShowPassword = () => {\r\n      setShowPassword(prevState => !prevState)\r\n   }\r\n\r\n   const {labelTitle, error, ...restProps} = props\r\n   const type = props.type === 'password' && !showPassword ? 'password' : 'text'\r\n\r\n   return (\r\n      <label className={classes.label}>\r\n         {labelTitle && <span className={classes.label}>{labelTitle}</span>}\r\n         <input {...restProps} type={type} className={`${classes.input} ${props.className}`}/>\r\n         {\r\n            type === 'password' &&\r\n               <div className={classes.showPassword} onClick={handleShowPassword}>\r\n                  {Icons.Eye()}\r\n               </div>\r\n         }\r\n         {\r\n            showPassword &&\r\n            <div className={classes.showPassword} onClick={handleShowPassword}>\r\n               {Icons.EyeSlash()}\r\n            </div>\r\n         }\r\n         {\r\n            error &&\r\n               <div className={classes.error}>\r\n                  {Icons.Error()}\r\n                  <div className={classes.errorMessage}>{error}</div>\r\n               </div>\r\n         }\r\n      </label>\r\n   )\r\n}\r\n\r\nexport default React.memo(Input)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Input_label__jOF-3\",\"error\":\"Input_error__39qKP\",\"errorMessage\":\"Input_errorMessage__3ysst\",\"showPassword\":\"Input_showPassword__2oNMr\",\"input\":\"Input_input__1VWGP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Profile_container__2fYw0\",\"colLeft\":\"Profile_colLeft__2iZMt\",\"link\":\"Profile_link__3kzgK\"};","import React, {ButtonHTMLAttributes, DetailedHTMLProps} from 'react'\r\nimport classes from './Button.module.scss'\r\n\r\ntype InputPropsType\r\n    = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>\r\n    & { labelTitle?: string};\r\n\r\nconst Button = (props: InputPropsType) => {\r\n    const {labelTitle, ...restProps} = props\r\n    return (\r\n        <button className={classes.btn} {...restProps}> {props.labelTitle}</button>\r\n    )\r\n}\r\n\r\nexport default React.memo(Button)\r\n","import React from 'react'\r\nimport {findIconDefinition, IconDefinition, IconLookup} from '@fortawesome/fontawesome-svg-core'\r\nimport {library} from '@fortawesome/fontawesome-svg-core'\r\nimport {fas} from '@fortawesome/free-solid-svg-icons'\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\r\n\r\nlibrary.add(fas)\r\n\r\nconst iconDefinition = (iconName: any, pref?: any): IconDefinition => {\r\n   const prefix = pref ? pref : 'fas'\r\n   const Lookup: IconLookup = {prefix: prefix, iconName: iconName}\r\n   return findIconDefinition(Lookup)\r\n}\r\n\r\n// создаете новую иконку с именем из каталога https://fontawesome.com/icons (только free)\r\nconst SignInAlt = () => <FontAwesomeIcon icon={iconDefinition('sign-in-alt')}/>\r\nconst SignOutAlt = () => <FontAwesomeIcon icon={iconDefinition('sign-out-alt')}/>\r\nconst Key = () => <FontAwesomeIcon icon={iconDefinition('key')}/>\r\nconst Lock = () => <FontAwesomeIcon icon={iconDefinition('lock')}/>\r\nconst Error = () => <FontAwesomeIcon icon={iconDefinition('exclamation-circle')}/>\r\nconst Eye = () => <FontAwesomeIcon icon={iconDefinition('eye')}/>\r\nconst EyeSlash = () => <FontAwesomeIcon icon={iconDefinition('eye-slash')}/>\r\nconst SearchLocation = () => <FontAwesomeIcon icon={iconDefinition('search-location')}/>\r\n\r\n// добавляете в этот объект\r\nconst Icons = {\r\n   SignInAlt,\r\n   SignOutAlt,\r\n   Key,\r\n   Lock,\r\n   Error,\r\n   Eye,\r\n   EyeSlash,\r\n   SearchLocation,\r\n}\r\n\r\nexport default Icons\r\n// в таком виде вставляете в разметку: { Icons.coffee() }\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Login_container__1dhzn\",\"formItem\":\"Login_formItem__1I2Ut\",\"subLinks\":\"Login_subLinks__3-Xeg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"close\":\"Modal_close__cBdIP\",\"header\":\"Modal_header__KSiRs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Checkbox_label__1q_k8\",\"checkbox\":\"Checkbox_checkbox__2d-7_\",\"customCheckbox\":\"Checkbox_customCheckbox__KijXE\"};","export const LOGIN = '/login';\r\nexport const NEW_PASSWORD = '/set-new-password/:token?'\r\nexport const PROFILE = '/profile'\r\nexport const REGISTRATION = '/registration'\r\nexport const RESTORE_PASSWORD = '/restore-password'\r\nexport const CARDS = '/cards/:packId?'\r\nexport const PACKS = '/packs'\r\nexport const TRAIN = '/train/:packID'","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1Nb1J\",\"paginator_item\":\"Paginator_paginator_item__bbebC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__Wf4ao\",\"container\":\"Header_container__38qBT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"Search_search__2UaKF\",\"search_item\":\"Search_search_item__Nrbq4\"};"],"sourceRoot":""}