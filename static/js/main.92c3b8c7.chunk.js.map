{"version":3,"sources":["components/common/Preloader/Preloader.module.css","reducers/newPassword-reducer.ts","reducers/restorePassword-reducer.ts","reducers/registration-reducer.ts","components/common/Button/Button.module.scss","assets/images/no_profile_image_placeholder.jpg","assets/images/loader.svg","api/api.ts","reducers/login-reducer.ts","components/Login/Login.tsx","components/Profile/Profile.tsx","components/Navbar/Navbar.tsx","components/Header/Header.tsx","api/cards-api.ts","reducers/cards-reducer.ts","components/common/Range/Range.tsx","components/Search/Search.tsx","components/common/Paginator/Paginator.tsx","components/common/SortButton/SortButton.tsx","components/common/Modal/StyledModal.ts","components/common/Modal/Modal.tsx","components/common/Checkbox/Checkbox.tsx","components/common/Preloader/Preloader.tsx","components/Cards/Modals/ModalEditCard.tsx","components/Cards/Modals/ModalRemoveCard.tsx","components/Cards/Modals/ModalAddCard.tsx","components/Cards/Cards.tsx","api/pack-api.ts","reducers/pack-reducer.ts","components/Packs/Modals/ModalRemovePack.tsx","components/Packs/Modals/ModalEditPack.tsx","components/Packs/Modals/ModalAddPack.tsx","components/Packs/Packs.tsx","App.tsx","serviceWorker.ts","reducers/store.ts","index.tsx","components/Packs/Packs.module.scss","components/Cards/Cards.module.scss","reducers/request-reducer.ts","components/Navbar/Navbar.module.scss","api/auth-api.ts","components/common/Input/Input.tsx","components/common/Input/Input.module.scss","components/Profile/Profile.module.scss","components/common/Button/Button.tsx","components/common/Icons/Icons.tsx","components/Login/Login.module.scss","components/common/Modal/Modal.module.scss","components/common/Checkbox/Checkbox.module.scss","components/common/Paginator/Paginator.module.scss","route.ts","components/Header/Header.module.scss","components/Search/Search.module.scss","components/common/SortButton/SortButton.module.scss"],"names":["module","exports","initialState","success","newPswReducer","state","action","type","payload","setResult","value","setNewPassword","password","token","dispatch","isFetchingAC","authAPI","sendNewPassword","resetPasswordToken","then","res","status","errorAC","catch","error","message","finally","selectedEmail","restorePswReducer","getEmailConfirmation","email","forgot","from","data","setSelectedEmail","isRegistered","registrationReducer","registrationTC","registration","instance","axios","create","baseURL","withCredentials","isLoggedIn","profile","setIsLoggedInAC","getUserDataAC","authMeAC","validationSchema","Yup","required","min","React","memo","useSelector","login","errorMsg","request","useDispatch","formik","useFormik","initialValues","rememberMe","onSubmit","values","to","PROFILE","className","classes","container","handleSubmit","formItem","Input","labelTitle","errors","getFieldProps","htmlFor","Button","subLinks","RESTORE_PASSWORD","REGISTRATION","userData","useEffect","handleAuth","a","authMe","colLeft","banner","img","src","avatar","noUserImage","alt","name","width","colRight","publicCardPacksCount","PACKS","onClick","logout","link","LOGIN","document","body","addEventListener","handleOutsideClick","useState","activeMenu","setActiveMenu","menuRef","useRef","event","path","composedPath","includes","current","onClickLink","menu","ref","menuTitle","switch","active","prevState","switchLine","navbar","LINKS","activeClassName","activeLink","header","cardsAPI","cardsPack_id","get","question","answer","post","card","_id","model","put","delete","cardsAnswer","cardsQuestion","max","sortCards","page","pageCount","cards","cardsTotalCount","maxGrade","minGrade","setCardsAC","setSortCardsAC","setCardsTotalCountAC","getCardsTC","searchCardsTC","getState","CardsCountRange","setValuesRange","minValuesRange","maxValuesRange","setValues","setValuesCardsCount","newValues","step","onChange","renderTrack","props","children","onMouseDown","onTouchStart","style","height","display","margin","borderRadius","background","getTrackBackground","colors","alignSelf","renderThumb","index","isDragged","backgroundColor","boxShadow","position","top","color","fontWeight","fontSize","fontFamily","padding","toFixed","Search","inputLabel","valueSearchName","changeInputSearch","search","secondInput","search_item","secondInputLabel","valueSecondSearchName","changeSecondInputSearch","Paginator","cardPacksTotalCount","getCardPacksPage","pages","lastPage","Math","ceil","i","push","key","undefined","filter","p","paginator","e","currentTarget","paginator_item","disabled","btn","onClickOne","onClickTwo","StyledModal","styled","Popup","Modal","open","onClose","close","modal","nested","styles","content","restProps","label","checkbox","customCheckbox","wrapper","preloader","ModalEditCard","editCardModal","setEditCardModal","closeEditCardModal","editCardQuestion","setEditCardQuestion","editCardAnswer","setEditCardAnswer","editCard","card_id","console","log","response","editCardTC","packId","o","modalInnerWrap","modalBtns","cardId","ModalRemoveCard","deleteCardModal","setDeleteCardModal","closeDeleteCardModal","removeCard","removeCardAC","removeCardTC","ModalAddCard","newCardModal","setNewCardModal","closeNewCardModal","newCardQuestion","setNewCardQuestion","newCardAnswer","setNewCardAnswer","addCard","newCard","addCardTC","Cards","useParams","newValuesRange","setAnswerCardsAC","setQuestionCardsAC","table","tableHeader","tableRow","map","c","cardUpdateDate","Date","updated","toLocaleString","setCardsPageAC","setCardsPageCountAC","packAPI","privatePack","cardsPack","private","rating","pack_id","user_id","searchName","sortPacks","cardPacks","packName","myPacks","maxCardsCount","minCardsCount","tokenDeathTime","setSortPacksAC","getPackTC","packs","ModalRemovePack","openDelModal","setOpenDelModal","closeDelModal","confirmActionCallback","removePackAC","removePackTC","userId","ModalEditPack","openEditModal","setOpenEditModal","closeEditModal","currentName","editPackName","setEditPackName","currentPrivacyStatus","setPrivatePack","editPack","editPackTC","checkboxWrap","checked","ModalAddPack","newPackModal","setNewPackModal","closeNewPackModal","newPackName","setNewPackName","addPack","newPack","newCardsPack","addPackTC","Packs","requestIsFetching","isFetching","setMyPacksAC","pack","packUpdateDate","cardsCount","setPageAC","setPageCountAC","Registration","lazy","RestorePassword","NewPassword","NotFound","App","fallback","exact","render","paths","component","Boolean","window","location","hostname","match","rootReducer","combineReducers","newPsw","restorePsw","requestReducer","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","unregister","showPassword","setShowPassword","handleShowPassword","input","Icons","Eye","EyeSlash","Error","errorMessage","library","add","fas","iconDefinition","iconName","pref","Lookup","prefix","findIconDefinition","SignInAlt","icon","SignOutAlt","Key","Lock","SearchLocation","NEW_PASSWORD","CARDS"],"mappings":"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","file":"static/js/main.92c3b8c7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Preloader_wrapper__SnQP1\",\"img\":\"Preloader_img__qADR8\"};","import {Dispatch} from 'redux'\r\nimport {authAPI} from '../api/auth-api'\r\nimport {errorAC, ErrorACType, isFetchingAC, isFetchingACType} from './request-reducer'\r\n\r\nconst SET_RESULT = 'SET_RESULT'\r\n\r\nconst initialState = {\r\n   success: null as null | boolean,\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nexport const newPswReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n   switch (action.type) {\r\n      case 'SET_RESULT':\r\n         return {\r\n            ...state,\r\n            success: action.payload,\r\n         }\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\n// actions\r\n\r\nexport const setResult = (value: boolean) => ({\r\n   type: SET_RESULT,\r\n   payload: value,\r\n} as const)\r\ntype SetResultActionType = ReturnType<typeof setResult>\r\n\r\n// thunks\r\n\r\nexport const setNewPassword = (password: string, token: string) =>\r\n   (dispatch: ThunkDispatchType) => {\r\n      dispatch(isFetchingAC(true))\r\n      authAPI.sendNewPassword({\r\n         password,\r\n         resetPasswordToken: token,\r\n      }).then(res => {\r\n         if (res.status === 200) {\r\n            dispatch(setResult(true))\r\n         } else {\r\n            dispatch(setResult(false))\r\n            dispatch(errorAC('Oops...Something went wrong. Please try again later'))\r\n         }\r\n      }).catch(error => {\r\n         dispatch(setResult(false))\r\n         dispatch(errorAC(error.message))\r\n      }).finally(() => {\r\n         dispatch(isFetchingAC(false))\r\n      })\r\n   }\r\n\r\n// TYPES\r\n\r\ntype ActionsType = SetResultActionType\r\ntype ThunkDispatchType = Dispatch<ActionsType | isFetchingACType | ErrorACType>\r\n","import {Dispatch} from 'redux'\r\nimport {authAPI} from '../api/auth-api'\r\nimport {errorAC, ErrorACType, isFetchingAC, isFetchingACType} from './request-reducer'\r\n\r\nconst SET_CONFIRMING = 'SET_CONFIRMING'\r\nconst SET_SELECTED_EMAIL = 'SET_SELECTED_EMAIL'\r\n\r\nconst initialState = {\r\n   selectedEmail: '' as string,\r\n   success: false as boolean,\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nexport const restorePswReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n   switch (action.type) {\r\n      case 'SET_CONFIRMING':\r\n         return {\r\n            ...state,\r\n            success: action.payload,\r\n         }\r\n      case 'SET_SELECTED_EMAIL':\r\n         return {\r\n            ...state,\r\n            selectedEmail: action.payload,\r\n         }\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\n// actions\r\n\r\nconst setConfirming = (value: boolean) => ({\r\n   type: SET_CONFIRMING,\r\n   payload: value,\r\n} as const)\r\ntype SetConfirmingActionType = ReturnType<typeof setConfirming>\r\n\r\nconst setSelectedEmail = (email: string) => ({\r\n   type: SET_SELECTED_EMAIL,\r\n   payload: email,\r\n} as const)\r\ntype SetSelectedEmail = ReturnType<typeof setSelectedEmail>\r\n\r\n// thunks\r\n\r\nexport const getEmailConfirmation = (email: string) =>\r\n   (dispatch: ThunkDispatchType) => {\r\n      const message = `\r\n         <div style=\"background-color: lime; padding: 15px\">\t\r\n            password recovery link:\r\n            <a href='http://localhost:3000/memory-cards#/set-new-password/$token$'>\r\n            link</a>\r\n         </div>\r\n      `\r\n      dispatch(isFetchingAC(true))\r\n      authAPI.forgot({\r\n         email, // кому восстанавливать пароль\r\n         from: `<${email}>`, // можно указать разработчика фронта)\r\n         message: message,\r\n      }).then(res => {\r\n            if (res.data.success) {\r\n               dispatch(setConfirming(res.data.success))\r\n               dispatch(setSelectedEmail(email))\r\n            } else if (res.data.success) {\r\n               dispatch(errorAC('Oops...Something went wrong. Please try again later'))\r\n            }\r\n         },\r\n      ).catch(error => {\r\n         dispatch(errorAC(error.message))\r\n      }).finally(() => {\r\n         dispatch(isFetchingAC(false))\r\n      })\r\n   }\r\n\r\n// TYPES\r\n\r\ntype ActionsType\r\n   = SetConfirmingActionType\r\n   | SetSelectedEmail\r\n\r\ntype ThunkDispatchType = Dispatch<ActionsType | isFetchingACType | ErrorACType>\r\n","import {authAPI, RegistrationParamsType} from '../api/auth-api'\r\nimport {Dispatch} from 'redux'\r\nimport {errorAC, ErrorACType, isFetchingAC, isFetchingACType} from './request-reducer'\r\n\r\nconst initialState = {\r\n   isRegistered: false as boolean,\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nexport const registrationReducer = (state: InitialStateType = initialState, action: ActionsType) => {\r\n   switch (action.type) {\r\n      case 'REGISTRATION':\r\n         return {\r\n            ...state,\r\n            isRegistered: action.payload,\r\n         }\r\n\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\n// actions\r\nexport const registrationAC = (payload: boolean) => ({type: 'REGISTRATION', payload} as const)\r\n\r\n// THUNK\r\nexport const registrationTC = (data: RegistrationParamsType) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>) => {\r\n   dispatch(isFetchingAC(true))\r\n   authAPI.registration(data)\r\n      .then(res => {\r\n         dispatch(isFetchingAC(false))\r\n         if (res.status === 201) {\r\n            dispatch(registrationAC(true))\r\n         } else {\r\n            dispatch(errorAC('Oops...Something went wrong. Please try again later'))\r\n         }\r\n      })\r\n      .catch((error) => {\r\n         dispatch(errorAC(error.message))\r\n         dispatch(isFetchingAC(false))\r\n      })\r\n}\r\n\r\n// TYPES\r\nexport type ActionsType = exampleACType\r\nexport type exampleACType = ReturnType<typeof registrationAC>\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__nA1Ui\"};","module.exports = \"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMsaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4xIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4NDBDMjE5QzcxMzUxMUVBQTE3N0YzODBBMTMxRjZDRSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4NDBDMjE5RDcxMzUxMUVBQTE3N0YzODBBMTMxRjZDRSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg0MEMyMTlBNzEzNTExRUFBMTc3RjM4MEExMzFGNkNFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjg0MEMyMTlCNzEzNTExRUFBMTc3RjM4MEExMzFGNkNFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQABgQEBAUEBgUFBgkGBQYJCwgG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\"","module.exports = __webpack_public_path__ + \"static/media/loader.aa8b6d13.svg\";","import axios from \"axios\";\r\n\r\nexport const instance = axios.create({\r\n    //baseURL: 'http://localhost:7542/2.0/',\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0/',\r\n    withCredentials: true\r\n})","import {Dispatch} from 'redux'\r\nimport {authAPI, LoginParamsType, LoginResponseType} from '../api/auth-api'\r\nimport {errorAC, ErrorACType, isFetchingAC, isFetchingACType} from './request-reducer'\r\n\r\nconst initialState = {\r\n   isLoggedIn: false,\r\n   profile: {} as LoginResponseType,\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nexport const loginReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n   switch (action.type) {\r\n      case 'LOGIN':\r\n         return {...state, isLoggedIn: action.value}\r\n      case 'GET_USER_DATA':\r\n         return {...state, profile: action.profile}\r\n      case 'AUTH_ME':\r\n         return {...state, isLoggedIn: action.success}\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\n// action creators\r\nexport const setIsLoggedInAC = (value: boolean) => ({type: 'LOGIN', value} as const)\r\nexport const getUserDataAC = (profile: LoginResponseType) => ({type: 'GET_USER_DATA', profile} as const)\r\nexport const authMeAC = (success: boolean) => ({type: 'AUTH_ME', success} as const)\r\n\r\n// thunks\r\nexport const loginTC = (data: LoginParamsType) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType | any>) => {\r\n   dispatch(isFetchingAC(true))\r\n   authAPI.login(data)\r\n      .then(res => {\r\n         dispatch(isFetchingAC(false))\r\n         if (res.status === 200) {\r\n            dispatch(setIsLoggedInAC(true))\r\n            dispatch(getUserDataAC(res.data))\r\n         } else {\r\n            dispatch(errorAC('Oops...Something went wrong. Please try again later'))\r\n            dispatch(setIsLoggedInAC(false))\r\n         }\r\n      })\r\n      .catch((error) => {\r\n         //dispatch(errorAC(error.response.data.error))\r\n         dispatch(isFetchingAC(false))\r\n      })\r\n}\r\n\r\nexport const logoutTC = () => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType | authSucessACType>) => {\r\n   dispatch(isFetchingAC(true))\r\n   authAPI.logout()\r\n       .then(res => {\r\n          dispatch(isFetchingAC(false))\r\n          dispatch(authMeAC(false))\r\n       })\r\n       .catch((error) => {\r\n          //dispatch(errorAC(error.response.data.error))\r\n          dispatch(isFetchingAC(false))\r\n       })\r\n}\r\n\r\nexport const authSucessTC = () => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType | authSucessACType>) => {\r\n    dispatch(isFetchingAC(true))\r\n    authAPI.authMe()\r\n        .then(res => {\r\n            dispatch(isFetchingAC(false))\r\n            dispatch(getUserDataAC(res.data))\r\n            dispatch(authMeAC(true))\r\n        })\r\n        .catch((error) => {\r\n            //dispatch(errorAC(error.response.data.error))\r\n            dispatch(isFetchingAC(false))\r\n        })\r\n}\r\n\r\n// TYPES\r\nexport type ActionsType = setIsLoggedInACType | getUserDataACType | authSucessACType\r\nexport type setIsLoggedInACType = ReturnType<typeof setIsLoggedInAC>\r\nexport type getUserDataACType = ReturnType<typeof getUserDataAC>\r\nexport type authSucessACType = ReturnType<typeof authMeAC>\r\n","import React from 'react'\r\nimport classes from './Login.module.scss'\r\nimport {NavLink, Redirect} from 'react-router-dom'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {AppRootStateType} from '../../reducers/store'\r\nimport {loginTC} from '../../reducers/login-reducer'\r\nimport {PROFILE, REGISTRATION, RESTORE_PASSWORD} from '../../route'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport {useFormik} from 'formik'\r\nimport Input from '../common/Input/Input'\r\nimport Button from '../common/Button/Button'\r\nimport * as Yup from 'yup'\r\n\r\nconst validationSchema = () => Yup.object({\r\n   email: Yup.string()\r\n      .email('Invalid email address')\r\n      .required('Required'),\r\n   password: Yup.string()\r\n      .required('Required')\r\n      .min(8, 'Must be 8 characters or less'),\r\n})\r\n\r\nconst Login = () => {\r\n   const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.login.isLoggedIn)\r\n   const errorMsg = useSelector<AppRootStateType, string>(state => state.request.error)\r\n   const dispatch = useDispatch()\r\n\r\n   const formik = useFormik({\r\n      initialValues: {\r\n         email: '',\r\n         password: '',\r\n         rememberMe: false,\r\n      },\r\n      validationSchema,\r\n      onSubmit: values => {\r\n         dispatch(loginTC(values))\r\n      },\r\n   })\r\n\r\n   if (isLoggedIn) {\r\n      return <Redirect to={PROFILE}/>\r\n   }\r\n\r\n   return (\r\n      <div className={classes.container}>\r\n         <h1>Login</h1>\r\n         <form onSubmit={formik.handleSubmit}>\r\n\r\n            {errorMsg && <p><strong>{errorMsg}</strong></p>}\r\n\r\n            <div className={classes.formItem}>\r\n               <Input labelTitle={'Email'}\r\n                      error={formik.errors.email}\r\n                      {...formik.getFieldProps('email')}/>\r\n            </div>\r\n\r\n            <div className={classes.formItem}>\r\n               <Input type='password'\r\n                      labelTitle={'Password'}\r\n                      error={formik.errors.password}\r\n                      {...formik.getFieldProps('password')}/>\r\n            </div>\r\n\r\n            <div className={classes.formItem}>\r\n               <label htmlFor=\"password\">remember me</label>\r\n               <input\r\n                  type='checkbox'\r\n                  {...formik.getFieldProps('rememberMe')}/>\r\n            </div>\r\n\r\n            <Button type=\"submit\" labelTitle={'Send'}/>\r\n         </form>\r\n\r\n         <div className={classes.subLinks}>\r\n            <NavLink to={RESTORE_PASSWORD}>Forgot Password?</NavLink>\r\n            <NavLink to={REGISTRATION}>Registration</NavLink>\r\n         </div>\r\n\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default React.memo(Login)","import React, {useEffect, useState} from 'react';\r\nimport classes from './Profile.module.scss';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../reducers/store\";\r\nimport {LoginResponseType} from \"../../api/auth-api\";\r\nimport {LOGIN, PACKS} from \"../../route\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {setIsLoggedInAC, logoutTC, authSucessTC} from \"../../reducers/login-reducer\";\r\nimport Button from \"../common/Button/Button\";\r\nimport noUserImage from '../../assets/images/no_profile_image_placeholder.jpg';\r\n\r\nconst Profile = () => {\r\n\r\n    const userData = useSelector<AppRootStateType, LoginResponseType>(state => state.login.profile)\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.login.isLoggedIn)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        if (!isLoggedIn) {\r\n            handleAuth()\r\n        }\r\n    }, [])\r\n\r\n    const handleAuth = async () => {\r\n        await dispatch(authSucessTC());\r\n    }\r\n\r\n    const setLogOut = () => {\r\n        dispatch(logoutTC())\r\n        dispatch(setIsLoggedInAC(false))\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return <Redirect to={LOGIN}/>\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={classes.container}>\r\n                <h1>Profile</h1>\r\n            </div>\r\n            <div className={classes.container}>\r\n                <div className={classes.colLeft}>\r\n                    <div className={classes.banner}>\r\n                        <img className={classes.img}\r\n                             src={userData.avatar || noUserImage} alt={userData.name}\r\n                             width={250}/>\r\n                    </div>\r\n                </div>\r\n                <div className={classes.colRight}>\r\n                    <h3>{userData.name}</h3>\r\n                    <p><strong>Email: </strong> {userData.email}</p>\r\n                    <p><strong>Card\r\n                        Packs: </strong> {userData.publicCardPacksCount} {userData.publicCardPacksCount > 1 ? 'packs' : 'pack'}\r\n                    </p>\r\n                    <p><Link to={PACKS}><Button labelTitle={'See card packs'}/></Link></p>\r\n                    <p onClick={setLogOut} className={classes.link}>Logout</p>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default React.memo(Profile)","import React from 'react'\r\nimport classes from './Navbar.module.scss'\r\nimport {NavLink} from 'react-router-dom'\r\nimport * as LINKS from '../../route'\r\n\r\nconst Navbar = () => {\r\n\r\n   React.useEffect(() => {\r\n      document.body.addEventListener('click', handleOutsideClick)\r\n   })\r\n\r\n   const [activeMenu, setActiveMenu] = React.useState<boolean>(false)\r\n\r\n   const menuRef = React.useRef<HTMLDivElement>(null)\r\n\r\n   const handleOutsideClick = (event: MouseEvent | any) => {\r\n      const path = event.path || (event.composedPath && event.composedPath()) // firefox uses composedPath\r\n      if (!path.includes(menuRef.current)) {\r\n         setActiveMenu(false)\r\n      }\r\n\r\n   }\r\n\r\n   const onClickSwitch = () => setActiveMenu(prevState => !prevState)\r\n   const onClickLink = () => setActiveMenu(false)\r\n\r\n   return (\r\n      <div className={classes.menu} ref={menuRef}>\r\n         <div className={classes.menuTitle}>Menu</div>\r\n         <div className={`${classes.switch} ${activeMenu ? classes.active : ''}`} onClick={onClickSwitch}>\r\n            <div className={classes.switchLine}></div>\r\n            <div className={classes.switchLine}></div>\r\n            <div className={classes.switchLine}></div>\r\n         </div>\r\n         <nav className={classes.navbar}>\r\n            <NavLink to={LINKS.LOGIN} activeClassName={classes.activeLink} onClick={onClickLink}>login</NavLink>\r\n            <NavLink to={LINKS.PROFILE} activeClassName={classes.activeLink} onClick={onClickLink}>profile</NavLink>\r\n            <NavLink to={LINKS.PACKS} activeClassName={classes.activeLink} onClick={onClickLink}>card packs</NavLink>\r\n            <NavLink to={LINKS.REGISTRATION} activeClassName={classes.activeLink} onClick={onClickLink}>registration</NavLink>\r\n            <NavLink to={LINKS.RESTORE_PASSWORD} activeClassName={classes.activeLink} onClick={onClickLink}>restore password</NavLink>\r\n         </nav>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default React.memo(Navbar)\r\n","import React from 'react'\r\nimport classes from './Header.module.scss'\r\nimport Navbar from '../Navbar/Navbar'\r\n\r\nconst Header = () => {\r\n   return (\r\n      <header className={classes.header}>\r\n         <div className={classes.container}>\r\n            <div>Logo</div>\r\n            <Navbar/>\r\n         </div>\r\n      </header>\r\n   )\r\n}\r\n\r\nexport default React.memo(Header)\r\n","import {instance} from \"./api\";\r\nimport {EditCardModelType} from \"../reducers/cards-reducer\";\r\nimport {CardsPackResponseType} from \"./pack-api\";\r\n\r\n\r\nexport const cardsAPI = {\r\n    getCards(cardsPack_id: string) {\r\n        return instance.get<CardsResponseType>(`cards/card?cardsPack_id=${cardsPack_id}`)\r\n    },\r\n    addCard(cardsPack_id: string, question: string, answer: string) {\r\n        return instance.post<AddCardResponseType>(`cards/card`, {\r\n            card: {cardsPack_id, question, answer}\r\n        })\r\n    },\r\n\r\n    editCard(_id: string, model: EditCardModelType) {\r\n        return instance.put<CardsResponseType>(`cards/card`, {\r\n            card: {\r\n                _id: _id,\r\n                question: model.question,\r\n                answer: model.answer\r\n            }\r\n        })\r\n    },\r\n    removeCard(_id: string) {\r\n        return instance.delete<CardsResponseType>(`cards/card?id=${_id}`)\r\n    },\r\n    searchCards(cardsPack_id: string, cardsAnswer?: string, cardsQuestion?: string, min?: number, max?: number, sortCards?: string, page?: number, pageCount?: number) {\r\n        return instance.get<CardsResponseType>(`cards/card?cardsPack_id=${cardsPack_id}`\r\n            + (cardsAnswer ? `&cardAnswer=${cardsAnswer}` : '')\r\n            + (cardsQuestion ? `&cardQuestion=${cardsQuestion}` : '')\r\n            + (max ? `&min=${min}&max=${max}` : '')\r\n            + (sortCards ? `&sortCards=${sortCards}` : '')\r\n            + (page ? `&page=${page}` : '')\r\n            + (pageCount ? `&pageCount=${pageCount}` : '')\r\n        )\r\n    }\r\n}\r\n\r\nexport type CardsResponseType = {\r\n    cards: Array<CardsType>\r\n    cardsTotalCount: number\r\n    maxGrade: number\r\n    minGrade: number\r\n    page: number\r\n    pageCount: number\r\n}\r\n\r\nexport type AddCardResponseType = {\r\n    newCard: NewCardType\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\n\r\nexport type NewCardType = {\r\n    answer: string\r\n    cardsPack_id: string\r\n    comments: string\r\n    created: string\r\n    grade: number\r\n    more_id: string\r\n    question: string\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    updated: string\r\n    user_id: string\r\n    __v: number\r\n    _id: string\r\n}\r\n\r\nexport type CardsType = {\r\n    answer: string\r\n    question: string\r\n    cardsPack_id: string\r\n    grade: number\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    user_id: string\r\n    created: string\r\n    updated: string\r\n    __v: number\r\n    _id: string\r\n}\r\n\r\n","import {Dispatch} from \"redux\";\r\nimport {ErrorACType, isFetchingAC, isFetchingACType} from \"./request-reducer\";\r\nimport {cardsAPI, CardsType, NewCardType} from \"../api/cards-api\";\r\nimport {AppRootStateType} from \"./store\";\r\n\r\nlet initialState = {\r\n    cards: [] as CardsType[],\r\n    cardsTotalCount: 0,\r\n    cardsAnswer: '',\r\n    cardsQuestion: '',\r\n    min: 0,\r\n    max: 4,\r\n    sortCards: '',\r\n    maxGrade: 4,\r\n    minGrade: 0,\r\n    page: 1,\r\n    pageCount: 4\r\n}\r\n\r\nexport const cardsReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SET_CARDS':\r\n            return {...state, cards: action.cards}\r\n        case 'ADD_CARD':\r\n            return {...state, cards: [action.newCard, ...state.cards]}\r\n        case 'REMOVE_CARD':\r\n            return {...state, cards: state.cards.filter((c) => c._id != action._id)}\r\n        case 'EDIT_CARD':\r\n            return {\r\n                ...state,\r\n                cards: state.cards.map(p => p._id === action.card_id ? {...p, ...action.model} : p)\r\n            }\r\n        case 'SET_MIN_MAX_CARDS_GRADS':\r\n            return {...state, min: action.newValues[0], max: action.newValues[1]}\r\n        case 'SET_ANSWER_CARDS':\r\n            return {...state, cardsAnswer: action.cardsAnswer}\r\n        case 'SET_QUESTION_CARDS':\r\n            return {...state, cardsQuestion: action.cardsQuestion}\r\n        case 'SET_SORT_CARDS':\r\n            return {...state, sortCards: action.sortCards}\r\n        case 'SET_CARDS_TOTAL_CARDS':\r\n            return {...state, cardsTotalCount: action.cardsTotalCount}\r\n        case 'SET_CARDS_PAGE':\r\n            return {...state, page: action.page}\r\n        case 'SET_CARDS_PAGE_COUNT':\r\n            return {...state, pageCount: action.pageCount}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n// AC\r\nexport const setCardsAC = (cards: CardsType[]) => ({type: 'SET_CARDS', cards} as const)\r\nexport const addCardAC = (newCard: NewCardType) => ({type: 'ADD_PACK', newCard} as const)\r\nexport const removeCardAC = (_id: string) => ({type: 'REMOVE_CARD', _id} as const)\r\nexport const editCardAC = (card_id: string, model: EditCardModelType) => ({type: 'EDIT_CARD', card_id, model} as const)\r\nexport const setMinMaxCardsGradsAC = (newValues: number[]) => ({type: 'SET_MIN_MAX_CARDS_GRADS', newValues} as const)\r\nexport const setAnswerCardsAC = (cardsAnswer: string) => ({type: 'SET_ANSWER_CARDS', cardsAnswer} as const)\r\nexport const setQuestionCardsAC = (cardsQuestion: string) => ({type: 'SET_QUESTION_CARDS', cardsQuestion} as const)\r\nexport const setSortCardsAC = (sortCards: string) => ({type: 'SET_SORT_CARDS', sortCards} as const)\r\nexport const setCardsTotalCountAC = (cardsTotalCount: number) => ({type: 'SET_CARDS_TOTAL_CARDS', cardsTotalCount} as const)\r\nexport const setCardsPageAC = (page: number) => ({type: 'SET_CARDS_PAGE', page} as const)\r\nexport const setCardsPageCountAC = (pageCount: number) => ({type: 'SET_CARDS_PAGE_COUNT', pageCount} as const)\r\n\r\n// thunks\r\nexport const getCardsTC = (cardsPack_id: string) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>) => {\r\n    dispatch(isFetchingAC(true))\r\n    cardsAPI.getCards(cardsPack_id)\r\n        .then(res => {\r\n            dispatch(isFetchingAC(false))\r\n            dispatch(setCardsTotalCountAC(res.data.cardsTotalCount))\r\n            dispatch(setCardsAC(res.data.cards))\r\n        })\r\n        .catch((error) => {\r\n            //dispatch(errorAC(error.response.data.error))\r\n            dispatch(isFetchingAC(false))\r\n        })\r\n}\r\n\r\nexport const addCardTC = (cardsPack_id: string, question: string, answer: string) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>) => {\r\n    dispatch(isFetchingAC(true))\r\n    cardsAPI.addCard(cardsPack_id, question, answer)\r\n        .then(res => {\r\n            dispatch(isFetchingAC(false))\r\n            dispatch(addCardAC(res.data.newCard))\r\n            dispatch(getCardsTC(cardsPack_id))\r\n        })\r\n        .catch((error) => {\r\n            console.log(error.response.data.error)\r\n            dispatch(isFetchingAC(false))\r\n        })\r\n}\r\n\r\nexport const removeCardTC = (_id: string, cardsPack_id: string) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>) => {\r\n    dispatch(isFetchingAC(true))\r\n    cardsAPI.removeCard(_id)\r\n        .then(res => {\r\n            dispatch(isFetchingAC(false))\r\n            dispatch(removeCardAC(_id))\r\n            dispatch(getCardsTC(cardsPack_id))\r\n        })\r\n        .catch((error) => {\r\n            console.log(error.response.data.error)\r\n            dispatch(isFetchingAC(false))\r\n        })\r\n}\r\n\r\nexport const searchCardsTC = (cardsPack_id: string) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>, getState: () => AppRootStateType) => {\r\n    const {cardsAnswer, cardsQuestion, min, max, sortCards, page, pageCount} = getState().cards\r\n    dispatch(isFetchingAC(true))\r\n    cardsAPI.searchCards(cardsPack_id ,cardsAnswer, cardsQuestion, min, max, sortCards, page, pageCount)\r\n        .then(res => {\r\n            dispatch(isFetchingAC(false))\r\n            dispatch(setCardsTotalCountAC(res.data.cardsTotalCount))\r\n            dispatch(setCardsAC(res.data.cards))\r\n        })\r\n        .catch((error) => {\r\n            //dispatch(errorAC(error.response.data.error))\r\n            dispatch(isFetchingAC(false))\r\n        })\r\n}\r\n\r\nexport const editCardTC = (card_id: string, model: EditCardModelType, cardsPack_id: string) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>) => {\r\n    dispatch(isFetchingAC(true))\r\n    cardsAPI.editCard(card_id, model)\r\n        .then(res => {\r\n            dispatch(isFetchingAC(false))\r\n            editCardAC(card_id, model)\r\n            dispatch(getCardsTC(cardsPack_id))\r\n        })\r\n        .catch((error) => {\r\n            console.log(error.response.data.error)\r\n            dispatch(isFetchingAC(false))\r\n        })\r\n}\r\n\r\n\r\ntype InitialStateType = {\r\n    cards: Array<CardsType>\r\n    cardsTotalCount: number\r\n    cardsAnswer: string\r\n    cardsQuestion: string\r\n    min: number\r\n    max: number\r\n    sortCards: string\r\n    maxGrade: number\r\n    minGrade: number\r\n    page: number\r\n    pageCount: number\r\n}\r\n\r\ntype ActionsType =\r\n    setCardsACType\r\n    | addCardACType\r\n    | RemoveCardType\r\n    | setMinMaxCardsGradsACType\r\n    | setAnswerCardsACType\r\n    | setQuestionCardsACType\r\n    | setSortCardsACType\r\n    | setCardsTotalCountACType\r\n    | setCardsPageACType\r\n    | setCardsPageCountACType\r\n    | any\r\n\r\n\r\nexport type setCardsACType = ReturnType<typeof setCardsAC>\r\nexport type addCardACType = ReturnType<typeof addCardAC>\r\nexport type RemoveCardType = ReturnType<typeof removeCardAC>\r\nexport type setMinMaxCardsGradsACType = ReturnType<typeof setMinMaxCardsGradsAC>\r\nexport type setAnswerCardsACType = ReturnType<typeof setAnswerCardsAC>\r\nexport type setQuestionCardsACType = ReturnType<typeof setQuestionCardsAC>\r\nexport type setSortCardsACType = ReturnType<typeof setSortCardsAC>\r\nexport type setCardsTotalCountACType = ReturnType<typeof setCardsTotalCountAC>\r\nexport type setCardsPageACType = ReturnType<typeof setCardsPageAC>\r\nexport type setCardsPageCountACType = ReturnType<typeof setCardsPageCountAC>\r\n\r\n\r\nexport type EditCardModelType = {\r\n    question?: string\r\n    answer?: string\r\n}\r\n\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport {getTrackBackground, Range} from 'react-range';\r\n\r\ntype RangePropsType = {\r\n    setValuesRange: (newValuesRange: any) => void\r\n    minValuesRange: number\r\n    maxValuesRange: number\r\n}\r\n\r\nconst CardsCountRange = ({setValuesRange, minValuesRange, maxValuesRange}: RangePropsType) => {\r\n    const [values, setValues] = useState([minValuesRange, maxValuesRange]);\r\n\r\n    const setValuesCardsCount = (newValues: number[]) => {\r\n        setValuesRange(newValues);\r\n        setValues(newValues);\r\n    };\r\n\r\n    useEffect(() => {\r\n        setValuesCardsCount([minValuesRange, maxValuesRange]);\r\n    }, [minValuesRange, maxValuesRange]);\r\n\r\n    return (\r\n        <Range\r\n            values={values}\r\n            step={1}\r\n            min={minValuesRange}\r\n            max={maxValuesRange}\r\n            onChange={values => (setValuesCardsCount(values))}\r\n            renderTrack={({props, children}) => (\r\n                <div\r\n                    onMouseDown={props.onMouseDown}\r\n                    onTouchStart={props.onTouchStart}\r\n                    style={{\r\n                        ...props.style,\r\n                        height: '36px',\r\n                        display: 'flex',\r\n                        width: '50%',\r\n                        margin: '30px',\r\n                    }}\r\n                >\r\n                    <div\r\n                        ref={props.ref}\r\n                        style={{\r\n                            height: '5px',\r\n                            width: '100%',\r\n                            borderRadius: '4px',\r\n                            background: getTrackBackground({\r\n                                values: values,\r\n                                colors: ['#ccc', '#499c35', '#ccc'],\r\n                                min: minValuesRange,\r\n                                max: maxValuesRange\r\n                            }),\r\n                            alignSelf: 'center'\r\n                        }}\r\n                    >\r\n                        {children}\r\n                    </div>\r\n                </div>\r\n            )}\r\n            renderThumb={({index, props, isDragged}) => (\r\n                <div\r\n                    {...props}\r\n                    style={{\r\n                        ...props.style,\r\n                        height: '12px',\r\n                        width: '12px',\r\n                        borderRadius: '1px',\r\n                        backgroundColor: '#FFF',\r\n                        boxShadow: '0px 2px 6px #AAA',\r\n                    }}\r\n                >\r\n                    <div\r\n                        style={{\r\n                            position: 'absolute',\r\n                            top: '-28px',\r\n                            color: '#fff',\r\n                            fontWeight: 'bold',\r\n                            fontSize: '14px',\r\n                            fontFamily: 'Arial,Helvetica Neue,Helvetica,sans-serif',\r\n                            padding: '4px',\r\n                            borderRadius: '4px',\r\n                            backgroundColor: '#499c35'\r\n                        }}\r\n                    >\r\n                        {values[index].toFixed(0)}\r\n                    </div>\r\n                    <div style={{height: '16px', width: '5px', backgroundColor: isDragged ? '#548BF4' : '#CCC'}}/>\r\n                </div>\r\n            )}\r\n        />\r\n    );\r\n};\r\n\r\nexport default CardsCountRange;\r\n","import React, {ChangeEvent} from \"react\";\r\nimport classes from './Search.module.scss'\r\nimport Input from \"../common/Input/Input\";\r\nimport Button from \"../common/Button/Button\";\r\nimport CardsCountRange from \"../common/Range/Range\";\r\n\r\ntype SearchPropsType = {\r\n    inputLabel: string\r\n    setValuesRange: (newValuesRange: number[]) => void\r\n    minValuesRange: number\r\n    maxValuesRange: number\r\n    valueSearchName: string\r\n    changeInputSearch: (e: ChangeEvent<HTMLInputElement>) => void\r\n    search: () => void\r\n    secondInput?: boolean\r\n    secondInputLabel?: string\r\n    valueSecondSearchName?: string\r\n    changeSecondInputSearch?: (e: ChangeEvent<HTMLInputElement>) => void\r\n}\r\n\r\nexport const Search = ({inputLabel, setValuesRange, minValuesRange, maxValuesRange, valueSearchName, changeInputSearch, search, secondInput = false, ...props}: SearchPropsType) => {\r\n    return (\r\n        <div className={classes.search}>\r\n            <CardsCountRange setValuesRange={setValuesRange} minValuesRange={minValuesRange}\r\n                             maxValuesRange={maxValuesRange}/>\r\n            <div className={classes.search_item}>\r\n                <Input labelTitle={inputLabel} value={valueSearchName} onChange={changeInputSearch}/>\r\n                {secondInput &&\r\n                <Input labelTitle={props.secondInputLabel}\r\n                       value={props.valueSecondSearchName}\r\n                       onChange={props.changeSecondInputSearch}/>}\r\n                <Button labelTitle={'Search'} onClick={search}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport classes from \"./Paginator.module.scss\"\r\n\r\ntype PaginatorPropsType = {\r\n    page: number\r\n    pageCount: number\r\n    cardPacksTotalCount: number\r\n    getCardPacksPage: (page: number, pageCount: number) => void\r\n}\r\n\r\nconst Paginator = ({page, pageCount, cardPacksTotalCount, getCardPacksPage}: PaginatorPropsType) => {\r\n    const onChangeSelect = (e: any) => {\r\n        getCardPacksPage(page, e.currentTarget.value)\r\n    }\r\n    let pages = []\r\n    const lastPage = Math.ceil(cardPacksTotalCount / pageCount)\r\n\r\n    for (let i = 1; i <= lastPage; i++) pages.push((\r\n        <button\r\n            key={i}\r\n            style={{background: page === i ? '#138808' : undefined}}\r\n            onClick={() => getCardPacksPage(i, pageCount)}\r\n        >\r\n            {i}\r\n        </button>\r\n    ));\r\n    pages = pages.filter((p, i) => i < (page + 2) || i === (lastPage));\r\n\r\n    pages = pages.filter((p, i) => i > page - 4);\r\n\r\n\r\n    return (\r\n        <div className={classes.paginator}>\r\n            <div>\r\n                <select value={pageCount} onChange={onChangeSelect} className={classes.paginator_item}>\r\n                    <option value={4}>4</option>\r\n                    <option value={7}>7</option>\r\n                    <option value={10}>10</option>\r\n                    <option value={20}>20</option>\r\n                    <option value={50}>50</option>\r\n                </select>\r\n            </div>\r\n            <div className={classes.paginator_item}>\r\n                <button\r\n                    onClick={() => {\r\n                        getCardPacksPage(page - 1, pageCount)\r\n                    }}\r\n                    disabled={page === 1}\r\n                >-\r\n                </button>\r\n                {pages}\r\n                <button\r\n                    onClick={() => getCardPacksPage(page + 1, pageCount)}\r\n                    disabled={page === lastPage}\r\n                >+\r\n                </button>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Paginator","import React, {ButtonHTMLAttributes, DetailedHTMLProps} from 'react'\r\nimport classes from './SortButton.module.scss'\r\n\r\ntype InputPropsType\r\n    = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>\r\n    & {onClickOne: () => void, onClickTwo: () => void}\r\n\r\nconst SortButton = (props: InputPropsType) => {\r\n    return (\r\n        <span>\r\n            <button className={classes.btn} {...props} onClick={props.onClickOne}> {'h'}</button>\r\n            <button className={classes.btn} {...props} onClick={props.onClickTwo}> {'k'}</button>\r\n        </span>\r\n\r\n    )\r\n}\r\n\r\nexport default React.memo(SortButton)\r\n","import styled from 'styled-components'\r\nimport Popup from \"reactjs-popup\";\r\n\r\nexport const StyledModal = styled(Popup)`\r\n    // animation on Modal Open\r\n    @keyframes anvil {\r\n      0% {\r\n        transform: scale(1) translateY(0px);\r\n        opacity: 0;\r\n        box-shadow: 0 0 0 rgba(241, 241, 241, 0);\r\n      }\r\n      1% {\r\n        transform: scale(0.96) translateY(10px);\r\n        opacity: 0;\r\n        box-shadow: 0 0 0 rgba(241, 241, 241, 0);\r\n      }\r\n      100% {\r\n        transform: scale(1) translateY(0px);\r\n        opacity: 1;\r\n        box-shadow: 0 0 500px rgba(241, 241, 241, 0);\r\n      }\r\n    }\r\n    \r\n  // custom style for \".popup-overlay\"\r\n  &-overlay {\r\n    background: rgba(0, 0, 0, 0.7);\r\n  }\r\n  \r\n  // custom style for \".popup-content\"\r\n  &-content {    \r\n    width: 90%;\r\n    max-width: 550px;\r\n    padding: 30px;\r\n    margin: auto;\r\n    background: #fff;\r\n    -webkit-animation: anvil 0.3s cubic-bezier(0.38, 0.1, 0.36, 0.9) forwards;\r\n  }\r\n`;","import React, {ReactNode, useState} from 'react'\r\nimport styles from './Modal.module.scss';\r\nimport {StyledModal} from \"./StyledModal\";\r\n\r\nconst Modal = (props: ModalPropsType) => {\r\n    return (\r\n        <StyledModal open={props.open} onClose={props.close} modal nested>\r\n            <div className={styles.modal}>\r\n                <button className={styles.close} onClick={props.close}>&times;</button>\r\n                <h3 className={styles.header}>{props.header}</h3>\r\n                <div className={styles.content}>\r\n                    {props.children}\r\n                </div>\r\n            </div>\r\n        </StyledModal>\r\n    )\r\n}\r\n\r\nexport default Modal;\r\n\r\ntype ModalPropsType = {\r\n    header: string\r\n    children: ReactNode\r\n    open: any\r\n    close: any\r\n}","import React, {DetailedHTMLProps, InputHTMLAttributes} from 'react'\r\nimport classes from './Checkbox.module.scss'\r\n\r\ntype CheckboxPropsType\r\n   = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n   & {labelTitle?: string}\r\n\r\nconst Checkbox = (props: CheckboxPropsType) => {\r\n   const {labelTitle, ...restProps} = props\r\n   return (\r\n      <label className={classes.label}>\r\n         {labelTitle && <span className={classes.label}>{labelTitle}</span>}\r\n         <input {...restProps}\r\n                type=\"checkbox\"\r\n                className={classes.checkbox}/>\r\n         <div className={classes.customCheckbox}></div>\r\n      </label>\r\n   )\r\n}\r\n\r\nexport default React.memo(Checkbox)\r\n","import React from 'react'\r\nimport styles from './Preloader.module.css'\r\nimport preloader from '../../../assets/images/loader.svg'\r\n\r\nconst Preloader = () => {\r\n   return (\r\n      <div className={styles.wrapper}>\r\n         <img src={preloader} className={styles.img} alt='loader'/>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default React.memo(Preloader)\r\n","import Button from \"../../common/Button/Button\";\r\nimport Modal from \"../../common/Modal/Modal\";\r\nimport classes from \"../Cards.module.scss\";\r\nimport {Input} from \"../../common\";\r\nimport React, {ChangeEvent, useState} from \"react\";\r\nimport {EditCardModelType, editCardTC} from \"../../../reducers/cards-reducer\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nconst ModalEditCard = (props: PropsType) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const [editCardModal, setEditCardModal] = useState(false);\r\n    const closeEditCardModal = () => setEditCardModal(false);\r\n    const [editCardQuestion, setEditCardQuestion] = useState(props.question)\r\n    const [editCardAnswer, setEditCardAnswer] = useState(props.answer)\r\n\r\n    const editCard = (card_id: string, model: EditCardModelType) => {\r\n        dispatch(editCardTC(card_id, model, props.packId))\r\n        closeEditCardModal()\r\n    }\r\n\r\n    const cancelEditCard = () => {\r\n        setEditCardQuestion(props.question)\r\n        setEditCardAnswer(props.answer)\r\n        closeEditCardModal()\r\n    }\r\n\r\n    const onEditCardQuestion = (e: ChangeEvent<HTMLInputElement>) => setEditCardQuestion(e.currentTarget.value)\r\n    const onEditCardAnswer = (e: ChangeEvent<HTMLInputElement>) => setEditCardAnswer(e.currentTarget.value)\r\n\r\n    return (\r\n        <>\r\n            <Button onClick={() => setEditCardModal(o => !o)} labelTitle='Edit a Card'/>\r\n            <Modal header={'Edit the Card'} open={editCardModal} close={closeEditCardModal}>\r\n                <div className={classes.modalInnerWrap}>\r\n                    <Input labelTitle='Question' value={editCardQuestion} onChange={onEditCardQuestion}/>\r\n                    <Input labelTitle='Answer' value={editCardAnswer} onChange={onEditCardAnswer}/>\r\n                    <div className={classes.modalBtns}>\r\n                        <Button labelTitle={'Cancel'} onClick={cancelEditCard}/>\r\n                        <Button labelTitle={'Confirm'} onClick={() => editCard(props.cardId, {\r\n                            question: editCardQuestion,\r\n                            answer: editCardAnswer\r\n                        })}/>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ModalEditCard;\r\n\r\ntype PropsType = {\r\n    question: string\r\n    answer: string\r\n    packId: string\r\n    cardId: string\r\n}","import Button from \"../../common/Button/Button\";\r\nimport Modal from \"../../common/Modal/Modal\";\r\nimport classes from \"../Cards.module.scss\";\r\nimport React, {useState} from \"react\";\r\nimport {removeCardTC} from \"../../../reducers/cards-reducer\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nconst ModalRemoveCard = (props: PropsType) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const [deleteCardModal, setDeleteCardModal] = useState(false);\r\n    const closeDeleteCardModal = () => setDeleteCardModal(false);\r\n\r\n    const removeCard = (_id: string) => {\r\n        dispatch(removeCardTC(_id, props.packId))\r\n        closeDeleteCardModal()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Button onClick={() => setDeleteCardModal(o => !o)} labelTitle='Delete'/>\r\n            <Modal header={'Delete the Card'} open={deleteCardModal} close={closeDeleteCardModal}>\r\n                <div className={classes.modalInnerWrap}>\r\n                    <p>Are you sure you want to delete <strong>\"{props.question}\"?</strong></p>\r\n                    <div className={classes.modalBtns}>\r\n                        <Button labelTitle={'Cancel'} onClick={closeDeleteCardModal}/>\r\n                        <Button labelTitle={'Confirm'} onClick={() => removeCard(props.cardId)}/>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\ntype PropsType = {\r\n    question: string\r\n    packId: string\r\n    cardId: string\r\n}\r\n\r\nexport default ModalRemoveCard;","import Button from \"../../common/Button/Button\";\r\nimport Modal from \"../../common/Modal/Modal\";\r\nimport classes from \"../Cards.module.scss\";\r\nimport {Input} from \"../../common\";\r\nimport React, {ChangeEvent, useState} from \"react\";\r\nimport {addCardTC} from \"../../../reducers/cards-reducer\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nconst ModalAddCard = (props: PropsType) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const [newCardModal, setNewCardModal] = useState(false);\r\n    const closeNewCardModal = () => setNewCardModal(false);\r\n    const [newCardQuestion, setNewCardQuestion] = useState('')\r\n    const [newCardAnswer, setNewCardAnswer] = useState('')\r\n\r\n    const addCard = (question: string, answer: string) => {\r\n        dispatch(addCardTC(props.packId, question, answer))\r\n        setNewCardQuestion('')\r\n        setNewCardAnswer('')\r\n        closeNewCardModal()\r\n    }\r\n\r\n    const cancelAddCard = () => {\r\n        setNewCardQuestion('')\r\n        setNewCardAnswer('')\r\n        closeNewCardModal()\r\n    }\r\n\r\n    const onAddCardQuestion = (e: ChangeEvent<HTMLInputElement>) => setNewCardQuestion(e.currentTarget.value)\r\n    const onAddCardAnswer = (e: ChangeEvent<HTMLInputElement>) => setNewCardAnswer(e.currentTarget.value)\r\n\r\n    return (\r\n        <>\r\n            <Button onClick={() => setNewCardModal(o => !o)} labelTitle='Add a Card'/>\r\n            <Modal header={'Add new Card'} open={newCardModal} close={closeNewCardModal}>\r\n                <div className={classes.modalInnerWrap}>\r\n                    <Input labelTitle='Question' value={newCardQuestion} onChange={onAddCardQuestion}/>\r\n                    <Input labelTitle='Answer' value={newCardAnswer} onChange={onAddCardAnswer}/>\r\n                    <div className={classes.modalBtns}>\r\n                        <Button labelTitle={'Cancel'} onClick={cancelAddCard}/>\r\n                        <Button labelTitle={'Confirm'} onClick={() => addCard(newCardQuestion, newCardAnswer)}/>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n            </>\r\n    )\r\n}\r\n\r\nexport default ModalAddCard;\r\n\r\ntype PropsType = {\r\n    packId: string\r\n}","import React, {ChangeEvent, useEffect, useState} from 'react'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../reducers/store\";\r\nimport {\r\n    getCardsTC,\r\n    searchCardsTC,\r\n    setAnswerCardsAC,\r\n    setCardsPageAC,\r\n    setCardsPageCountAC,\r\n    setMinMaxCardsGradsAC,\r\n    setQuestionCardsAC,\r\n    setSortCardsAC\r\n} from \"../../reducers/cards-reducer\";\r\nimport {CardsType} from \"../../api/cards-api\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport classes from './Cards.module.scss';\r\nimport {Search} from \"../Search/Search\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport SortButton from \"../common/SortButton/SortButton\";\r\nimport ModalEditCard from \"./Modals/ModalEditCard\";\r\nimport ModalRemoveCard from \"./Modals/ModalRemoveCard\";\r\nimport ModalAddCard from \"./Modals/ModalAddCard\";\r\n\r\nconst Cards = () => {\r\n\r\n    const cards = useSelector<AppRootStateType, Array<CardsType>>(state => state.cards.cards)\r\n    const minGrade = useSelector<AppRootStateType, number>(state => state.cards.minGrade)\r\n    const maxGrade = useSelector<AppRootStateType, number>(state => state.cards.maxGrade)\r\n    const cardsAnswer = useSelector<AppRootStateType, string>(state => state.cards.cardsAnswer)\r\n    const cardsQuestion = useSelector<AppRootStateType, string>(state => state.cards.cardsQuestion)\r\n    const page = useSelector<AppRootStateType, number>(state => state.cards.page)\r\n    const pageCount = useSelector<AppRootStateType, number>(state => state.cards.pageCount)\r\n    const cardsTotalCount = useSelector<AppRootStateType, number>(state => state.cards.cardsTotalCount)\r\n\r\n\r\n    const {packId} = useParams();\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getCardsTC(packId))\r\n    }, [])\r\n\r\n    const getCardsPage = (page: number, pageCount: number) => {\r\n        dispatch(setCardsPageAC(page))\r\n        dispatch(setCardsPageCountAC(pageCount))\r\n        dispatch(searchCardsTC(packId))\r\n    }\r\n\r\n    const changeInputSearch = (e: ChangeEvent<HTMLInputElement>) => {\r\n        dispatch(setAnswerCardsAC(e.currentTarget.value))\r\n    }\r\n\r\n    const changeSecondInputSearch = (e: ChangeEvent<HTMLInputElement>) => {\r\n        dispatch(setQuestionCardsAC(e.currentTarget.value))\r\n    }\r\n\r\n    const setValuesRange = (newValuesRange: number[]) => {\r\n        dispatch(setMinMaxCardsGradsAC(newValuesRange))\r\n    }\r\n\r\n    const search = () => {\r\n        dispatch(searchCardsTC(packId))\r\n    }\r\n\r\n    const sortPacksUpdateTop = () => {\r\n        dispatch(setSortCardsAC('1updated'))\r\n        dispatch(searchCardsTC(packId))\r\n    }\r\n\r\n    const sortPacksUpdateBottom = () => {\r\n        dispatch(setSortCardsAC('0updated'))\r\n        dispatch(searchCardsTC(packId))\r\n    }\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <Search\r\n                inputLabel={'Answer'}\r\n                setValuesRange={setValuesRange}\r\n                minValuesRange={minGrade}\r\n                maxValuesRange={maxGrade}\r\n                valueSearchName={cardsAnswer}\r\n                changeInputSearch={changeInputSearch}\r\n                search={search}\r\n                secondInput={true}\r\n                secondInputLabel={'Question'}\r\n                changeSecondInputSearch={changeSecondInputSearch}\r\n                valueSecondSearchName={cardsQuestion}\r\n            />\r\n            <h1>Cards</h1>\r\n            <ModalAddCard packId={packId}/>\r\n\r\n            <div className={classes.table}>\r\n                <div className={`${classes.tableHeader} ${classes.tableRow}`}>\r\n                    <div><strong>Question</strong></div>\r\n                    <div><strong>Answer</strong></div>\r\n                    <div>\r\n                        <strong>Last Update</strong>\r\n                        <SortButton onClickOne={sortPacksUpdateTop} onClickTwo={sortPacksUpdateBottom}/>\r\n                    </div>\r\n                    <div><strong>Actions</strong></div>\r\n                </div>\r\n\r\n                {cards && cards.map(c => {\r\n                        const cardUpdateDate = new Date(c.updated)\r\n                        return (\r\n                            <div key={c._id} className={classes.tableRow}>\r\n                                <div>{c.question}</div>\r\n                                <div>{c.answer}</div>\r\n                                <div>{cardUpdateDate.toLocaleString()}</div>\r\n                                <div>\r\n                                    <ModalEditCard question={c.question} answer={c.answer} packId={packId} cardId={c._id}/>\r\n                                    <ModalRemoveCard question={c.question} packId={packId} cardId={c._id}/>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                )}\r\n            </div>\r\n\r\n            <Paginator page={page} pageCount={pageCount} cardPacksTotalCount={cardsTotalCount}\r\n                       getCardPacksPage={getCardsPage}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cards;\r\n","import {instance} from \"./api\";\r\nimport {EditCardPackType} from \"../reducers/pack-reducer\";\r\n\r\n\r\nexport const packAPI = {\r\n    addCardPack(name: string, privatePack: boolean) {\r\n        return instance.post<NewCardsPackResponseType>(`cards/pack`, {\r\n            cardsPack: {\r\n                name: name,\r\n                private: privatePack\r\n            }\r\n        })\r\n    },\r\n    editCardPack(_id: string, model: EditCardPackType) {\r\n        return instance.put<NewCardsPackResponseType>(`cards/pack`, {\r\n            cardsPack: {\r\n                _id: _id,\r\n                name: model.name,\r\n                private: model.private,\r\n                rating: model.rating\r\n            }\r\n        })\r\n    },\r\n    removeCardPack(pack_id: string) {\r\n        return instance.delete<CardsPackResponseType>(`cards/pack?id=${pack_id}`)\r\n    },\r\n    getCardPacks(user_id?: string, searchName?: string, min?: number, max?: number, sortPacks?: string, page?: number, pageCount?: number) {\r\n        return instance.get<CardsPackResponseType>(`cards/pack`\r\n            + (user_id? `?user_id=${user_id}` : '')\r\n            + (searchName? `?packName=${searchName}` : '?')\r\n            + (max ? `&min=${min}&max=${max}` : '')\r\n            + (sortPacks ? `&sortPacks=${sortPacks}` : '')\r\n            + (page ? `&page=${page}` : '')\r\n            + (pageCount ? `&pageCount=${pageCount}` : '')\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport type CardsPackResponseType = {\r\n    cardPacks: Array<CardsPackType>\r\n    cardPacksTotalCount: number\r\n    maxCardsCount: number\r\n    minCardsCount: number\r\n    page: number\r\n    pageCount: number\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\n\r\n\r\n\r\nexport type NewCardsPackResponseType = {\r\n    newCardsPack: newCardsType\r\n}\r\n\r\nexport type newCardsType = {\r\n    cardsCount: number\r\n    created: string\r\n    //deckCover: string\r\n    grade: number\r\n    more_id: string\r\n    name: string\r\n    path: string\r\n    private: boolean\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    updated: string\r\n    user_id: string\r\n    user_name: string\r\n    __v: number\r\n    _id: string\r\n}\r\n\r\nexport type CardsPackType = {\r\n    cardsCount: number\r\n    created: string\r\n    //deckCover: string\r\n    grade: number\r\n    more_id: string\r\n    name: string\r\n    path: string\r\n    private: boolean\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    updated: string\r\n    user_id: string\r\n    user_name: string\r\n    __v: number\r\n    _id: string\r\n}","import {Dispatch} from \"redux\";\r\nimport {ErrorACType, isFetchingAC, isFetchingACType} from \"./request-reducer\";\r\nimport {CardsPackType, packAPI} from \"../api/pack-api\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"./store\";\r\n\r\nlet initialState = {\r\n    cardPacks: [] as CardsPackType[],\r\n    cardPacksTotalCount: 0,\r\n    packName: '',\r\n    myPacks: false,\r\n    min: 0,\r\n    max: 100,\r\n    sortPacks: '',\r\n    maxCardsCount: 100,\r\n    minCardsCount: 0,\r\n    page: 1,\r\n    pageCount: 4,\r\n    token: '',\r\n    tokenDeathTime: 0\r\n}\r\n\r\n\r\nexport const packReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SET_PACKS':\r\n            return {...state, cardPacks: action.cardPacks}\r\n        case 'REMOVE_PACK':\r\n            return {...state, cardPacks: state.cardPacks.filter((pack) => pack._id != action._id)}\r\n        case 'ADD_PACK':\r\n            return {...state, cardPacks: [action.newPack, ...state.cardPacks]}\r\n        case 'SEARCH_PACK_NAME':\r\n            return {...state, packName: action.packName}\r\n        case 'SET_MIN_MAX_CARDS_COUNT':\r\n            return {...state, min: action.newValues[0], max: action.newValues[1]}\r\n        case 'SET_PAGE_COUNT':\r\n            return {...state, pageCount: action.pageCount}\r\n        case 'SET_PAGE':\r\n            return {...state, page: action.page}\r\n        case 'SET_MY_PACKS':\r\n            return {...state, myPacks: action.myPacks}\r\n        case 'SET_SORT_PACKS':\r\n            return {...state, sortPacks: action.sortPacks}\r\n        case 'SET_CARD_PACKS_TOTAL_COUNT':\r\n            return {...state, cardPacksTotalCount: action.cardPacksTotalCount}\r\n        case 'EDIT_PACK':\r\n            return {\r\n                ...state,\r\n                cardPacks: state.cardPacks.map(p => p._id === action.pack_id ? {...p, ...action.model} : p)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n// AC\r\nexport const setPacksAC = (cardPacks: CardsPackType[]) => ({type: 'SET_PACKS', cardPacks} as const)\r\nexport const removePackAC = (_id: string) => ({type: 'REMOVE_PACK', _id} as const)\r\nexport const addPackAC = (newPack: CardsPackType) => ({type: 'ADD_PACK', newPack} as const)\r\nexport const searchPackNameAC = (packName: string) => ({type: 'SEARCH_PACK_NAME', packName} as const)\r\nexport const setMinMAxCardsCountAC = (newValues: number[]) => ({type: 'SET_MIN_MAX_CARDS_COUNT', newValues} as const)\r\nexport const editPackAC = (pack_id: string, model: EditCardPackType) => ({type: 'EDIT_PACK', pack_id, model} as const)\r\nexport const setPageCountAC = (pageCount: number) => ({type: 'SET_PAGE_COUNT', pageCount} as const)\r\nexport const setPageAC = (page: number) => ({type: 'SET_PAGE', page} as const)\r\nexport const setMyPacksAC = (myPacks: boolean) => ({type: 'SET_MY_PACKS', myPacks} as const)\r\nexport const setSortPacksAC = (sortPacks: string) => ({type: 'SET_SORT_PACKS', sortPacks} as const)\r\nexport const setCardPacksTotalCountAC = (cardPacksTotalCount: number) => ({\r\n    type: 'SET_CARD_PACKS_TOTAL_COUNT',\r\n    cardPacksTotalCount\r\n} as const)\r\n\r\n// thunks\r\n\r\nexport const removePackTC = (_id: string, user_id: string) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>) => {\r\n    dispatch(isFetchingAC(true))\r\n    packAPI.removeCardPack(_id)\r\n        .then(res => {\r\n            dispatch(isFetchingAC(false))\r\n            dispatch(removePackAC(_id))\r\n            dispatch(getPackTC())\r\n        })\r\n        .catch((error) => {\r\n            console.log(error.response.data.error)\r\n            dispatch(isFetchingAC(false))\r\n        })\r\n}\r\n\r\nexport const addPackTC = (name: string, privatePack: boolean, user_id: string) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>) => {\r\n    dispatch(isFetchingAC(true))\r\n    packAPI.addCardPack(name, privatePack)\r\n        .then(res => {\r\n            dispatch(isFetchingAC(false))\r\n            dispatch(addPackAC(res.data.newCardsPack))\r\n            dispatch(getPackTC())\r\n        })\r\n        .catch((error) => {\r\n            console.log(error.response.data.error)\r\n            dispatch(isFetchingAC(false))\r\n        })\r\n}\r\n\r\nexport const editPackTC = (pack_id: string, model: EditCardPackType, user_id: string) => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>) => {\r\n    dispatch(isFetchingAC(true))\r\n    packAPI.editCardPack(pack_id, model)\r\n        .then(res => {\r\n            dispatch(isFetchingAC(false))\r\n            editPackAC(pack_id, model)\r\n            dispatch(getPackTC())\r\n        })\r\n        .catch((error) => {\r\n            console.log(error.response.data.error)\r\n            dispatch(isFetchingAC(false))\r\n        })\r\n}\r\n\r\nexport const getPackTC = () => (dispatch: Dispatch<ActionsType | isFetchingACType | ErrorACType>, getState: () => AppRootStateType) => {\r\n    const {packName, myPacks, min, max, sortPacks, page, pageCount} = getState().packs\r\n    const user_id = myPacks ? getState().login.profile._id : undefined\r\n    dispatch(isFetchingAC(true))\r\n    packAPI.getCardPacks(user_id ,packName, min, max, sortPacks, page, pageCount)\r\n        .then(res => {\r\n            dispatch(isFetchingAC(false))\r\n            dispatch(setPacksAC(res.data.cardPacks))\r\n        })\r\n        .catch((error) => {\r\n            //dispatch(errorAC(error.response.data.error))\r\n            dispatch(isFetchingAC(false))\r\n        })\r\n}\r\n\r\ntype InitialStateType = {\r\n    cardPacks: CardsPackType[]\r\n    cardPacksTotalCount: number\r\n    packName: string\r\n    myPacks: boolean\r\n    min: number\r\n    max: number\r\n    sortPacks: string\r\n    maxCardsCount: number\r\n    minCardsCount: number\r\n    page: number\r\n    pageCount: number\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\n\r\ntype ActionsType =\r\n    setPacksACType\r\n    | removePackACType\r\n    | addPackACType\r\n    | editPackACType\r\n    | searchPackNameACType\r\n    | setMinMAxCardsCountACType\r\n    | setPageCountACType\r\n    | setPageACType\r\n    | setSortPacksACType\r\n    | setMyPacksACType\r\n    | setCardPacksTotalCountACType\r\n    | any\r\n\r\n\r\nexport type EditCardPackType = {\r\n    name?: string\r\n    private?: boolean\r\n    rating?: number\r\n}\r\n\r\n\r\nexport type setPacksACType = ReturnType<typeof setPacksAC>\r\nexport type removePackACType = ReturnType<typeof removePackAC>\r\nexport type addPackACType = ReturnType<typeof addPackAC>\r\nexport type searchPackNameACType = ReturnType<typeof searchPackNameAC>\r\nexport type setMinMAxCardsCountACType = ReturnType<typeof setMinMAxCardsCountAC>\r\nexport type editPackACType = ReturnType<typeof editPackAC>\r\nexport type setPageCountACType = ReturnType<typeof setPageCountAC>\r\nexport type setPageACType = ReturnType<typeof setPageAC>\r\nexport type setSortPacksACType = ReturnType<typeof setSortPacksAC>\r\nexport type setMyPacksACType = ReturnType<typeof setMyPacksAC>\r\nexport type setCardPacksTotalCountACType = ReturnType<typeof setCardPacksTotalCountAC>\r\n\r\n\r\n\r\n","import Modal from \"../../common/Modal/Modal\";\r\nimport classes from \"../Packs.module.scss\";\r\nimport Button from \"../../common/Button/Button\";\r\nimport React, {useState} from \"react\";\r\nimport {removePackTC} from \"../../../reducers/pack-reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../reducers/store\";\r\n\r\nconst ModalRemovePack = (props: ModalTypeProps) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [openDelModal, setOpenDelModal] = useState(false);\r\n    const closeDelModal = () => setOpenDelModal(false);\r\n\r\n    const confirmActionCallback = (_id: string) => {\r\n        dispatch(removePackTC(_id, props.userId))\r\n        closeDelModal()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Button onClick={() => setOpenDelModal(o => !o)} labelTitle='Delete'/>\r\n            <Modal header={'Delete Pack'} open={openDelModal} close={closeDelModal}>\r\n                <div className={classes.modalInnerWrap}>\r\n                    <p>Are you sure you want to delete <strong>\"{props.packName}\"?</strong></p>\r\n                    <div className={classes.modalBtns}>\r\n                        <Button labelTitle={'No'} onClick={closeDelModal}/>\r\n                        <Button labelTitle={'Yes'} onClick={() => confirmActionCallback(props.packId)}/>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\ntype ModalTypeProps = {\r\n    packName: string\r\n    packId: string\r\n    userId: string\r\n}\r\n\r\nexport default ModalRemovePack;","import Button from \"../../common/Button/Button\";\r\nimport Modal from \"../../common/Modal/Modal\";\r\nimport classes from \"../Packs.module.scss\";\r\nimport {Input} from \"../../common\";\r\nimport React, {ChangeEvent, useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {EditCardPackType, editPackTC} from \"../../../reducers/pack-reducer\";\r\n\r\nconst ModalEditPack = (props: ModalEditPackType) => {\r\n    const [openEditModal, setOpenEditModal] = useState(false);\r\n    const closeEditModal = () => setOpenEditModal(false);\r\n    const [editPackName, setEditPackName] = useState(props.currentName)\r\n    const [privatePack, setPrivatePack] = useState(props.currentPrivacyStatus)\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const editPack = (pack_id: string, model: EditCardPackType) => {\r\n        dispatch(editPackTC(pack_id, model, props.userId))\r\n        closeEditModal()\r\n    }\r\n\r\n    const cancelEditPack = () => {\r\n        setEditPackName(props.currentName)\r\n        setPrivatePack(props.currentPrivacyStatus)\r\n        closeEditModal()\r\n    }\r\n\r\n    const onPackNameChange = (e: ChangeEvent<HTMLInputElement>) => setEditPackName(e.currentTarget.value)\r\n    const onPackPrivacyChange = (e: ChangeEvent<HTMLInputElement>) => setPrivatePack(e.currentTarget.checked)\r\n\r\n    return (\r\n        <>\r\n            <Button onClick={() => setOpenEditModal(o => !o)} labelTitle='Edit'/>\r\n            <Modal header={'Edit Pack Data'} open={openEditModal} close={closeEditModal}>\r\n                <div className={classes.modalInnerWrap}>\r\n                    <Input labelTitle='Name' value={editPackName}\r\n                           onChange={onPackNameChange}/>\r\n                    <label className={classes.checkboxWrap}>\r\n                        <input type='checkbox' checked={privatePack} onChange={onPackPrivacyChange}/>\r\n                        This is my <strong>private</strong> pack\r\n                    </label>\r\n                    <div className={classes.modalBtns}>\r\n                        <Button labelTitle={'Cancel'} onClick={cancelEditPack}/>\r\n                        <Button labelTitle={'Confirm'} onClick={() => editPack(props.packId, {\r\n                            name: editPackName,\r\n                            private: privatePack\r\n                        })}/>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ModalEditPack;\r\n\r\ntype ModalEditPackType = {\r\n    currentName: string\r\n    currentPrivacyStatus: boolean\r\n    packId: string\r\n    userId: string\r\n}","import Button from \"../../common/Button/Button\";\r\nimport Modal from \"../../common/Modal/Modal\";\r\nimport classes from \"../Packs.module.scss\";\r\nimport {Input} from \"../../common\";\r\nimport React, {ChangeEvent, useState} from \"react\";\r\nimport {addPackTC} from \"../../../reducers/pack-reducer\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nconst ModalAddPack = (props: ModalAddPackType) => {\r\n    const [newPackModal, setNewPackModal] = useState(false);\r\n    const closeNewPackModal = () => setNewPackModal(false);\r\n    const [newPackName, setNewPackName] = useState('')\r\n    const [privatePack, setPrivatePack] = useState(false)\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const addPack = (name: string, privatePack: boolean) => {\r\n        dispatch(addPackTC(name, privatePack, props.userId))\r\n        setNewPackName('')\r\n        setPrivatePack(false)\r\n        closeNewPackModal()\r\n    }\r\n\r\n    const cancelAddPack = () => {\r\n        setNewPackName('')\r\n        setPrivatePack(false)\r\n        closeNewPackModal()\r\n    }\r\n\r\n    const onAddNewPackNameChange = (e: ChangeEvent<HTMLInputElement>) => setNewPackName(e.currentTarget.value)\r\n    const onPackPrivacyChange = (e: ChangeEvent<HTMLInputElement>) => setPrivatePack(e.currentTarget.checked)\r\n\r\n    return (\r\n        <>\r\n            <Button onClick={() => setNewPackModal(o => !o)} labelTitle='Add new Pack'/>\r\n            <Modal header={'Add new Pack'} open={newPackModal} close={closeNewPackModal}>\r\n                <div className={classes.modalInnerWrap}>\r\n                    <Input labelTitle='New Pack Name' value={newPackName}\r\n                           onChange={onAddNewPackNameChange}/>\r\n                    <label className={classes.checkboxWrap}>\r\n                        <input type='checkbox' checked={privatePack} onChange={onPackPrivacyChange}/>\r\n                        This is my <strong>private</strong> pack\r\n                    </label>\r\n                    <div className={classes.modalBtns}>\r\n                        <Button labelTitle={'Cancel'} onClick={cancelAddPack}/>\r\n                        <Button labelTitle={'Confirm'} onClick={() => addPack(newPackName, privatePack)}/>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ModalAddPack;\r\n\r\ntype ModalAddPackType = {\r\n    userId: string\r\n}","import React, {ChangeEvent, useEffect} from 'react'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../reducers/store\";\r\nimport {\r\n    getPackTC,\r\n    searchPackNameAC,\r\n    setMinMAxCardsCountAC,\r\n    setMyPacksAC,\r\n    setPageAC,\r\n    setPageCountAC,\r\n    setSortPacksAC\r\n} from \"../../reducers/pack-reducer\";\r\nimport Button from \"../common/Button/Button\";\r\nimport {CardsPackType} from \"../../api/pack-api\";\r\nimport {Link, Redirect} from 'react-router-dom'\r\nimport {LOGIN} from \"../../route\";\r\nimport classes from './Packs.module.scss'\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {Search} from \"../Search/Search\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport Checkbox from \"../common/Checkbox/Checkbox\";\r\nimport SortButton from \"../common/SortButton/SortButton\";\r\nimport ModalRemovePack from \"./Modals/ModalRemovePack\";\r\nimport ModalEditPack from \"./Modals/ModalEditPack\";\r\nimport ModalAddPack from \"./Modals/ModalAddPack\";\r\n\r\nconst Packs = () => {\r\n    const requestIsFetching = useSelector<AppRootStateType, boolean>(state => state.request.isFetching)\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.login.isLoggedIn)\r\n    const cardPacks = useSelector<AppRootStateType, Array<CardsPackType>>(state => state.packs.cardPacks)\r\n    const user_id = useSelector<AppRootStateType, string>(state => state.login.profile._id)\r\n    const page = useSelector<AppRootStateType, number>(state => state.packs.page)\r\n    const pageCount = useSelector<AppRootStateType, number>(state => state.packs.pageCount)\r\n    const cardPacksTotalCount = useSelector<AppRootStateType, number>(state => state.packs.cardPacksTotalCount)\r\n    const myPacks = useSelector<AppRootStateType, boolean>(state => state.packs.myPacks)\r\n    const minCardsCount = useSelector((state: AppRootStateType) => state.packs.minCardsCount)\r\n    const maxCardsCount = useSelector((state: AppRootStateType) => state.packs.maxCardsCount)\r\n    const valueSearchName = useSelector((state: AppRootStateType) => state.packs.packName)\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getPackTC())\r\n    }, [])\r\n\r\n    const getCardPacksPage = (page: number, pageCount: number) => {\r\n        dispatch(setPageAC(page))\r\n        dispatch(setPageCountAC(pageCount))\r\n        dispatch(getPackTC())\r\n    }\r\n\r\n    const changedMyPack = () => {\r\n        dispatch(setMyPacksAC(!myPacks))\r\n        dispatch(getPackTC())\r\n    }\r\n\r\n    const sortPacksNameTop = () => {\r\n        dispatch(setSortPacksAC('1name'))\r\n        dispatch(getPackTC())\r\n    }\r\n\r\n    const sortPacksNameBottom = () => {\r\n        dispatch(setSortPacksAC('0name'))\r\n        dispatch(getPackTC())\r\n    }\r\n\r\n    const sortPacksUpdateTop = () => {\r\n        dispatch(setSortPacksAC('1updated'))\r\n        dispatch(getPackTC())\r\n    }\r\n\r\n    const sortPacksUpdateBottom = () => {\r\n        dispatch(setSortPacksAC('0updated'))\r\n        dispatch(getPackTC())\r\n    }\r\n\r\n    const changeInputSearch = (e: ChangeEvent<HTMLInputElement>) => {\r\n        dispatch(searchPackNameAC(e.currentTarget.value))\r\n    }\r\n\r\n    const setValuesRange = (newValuesRange: number[]) => {\r\n        dispatch(setMinMAxCardsCountAC(newValuesRange))\r\n    }\r\n\r\n    const search = () => {\r\n        dispatch(getPackTC())\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return <Redirect to={LOGIN}/>\r\n    }\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            {requestIsFetching && <Preloader/>}\r\n            <Search\r\n                inputLabel={'Search'}\r\n                setValuesRange={setValuesRange}\r\n                minValuesRange={minCardsCount}\r\n                maxValuesRange={maxCardsCount}\r\n                valueSearchName={valueSearchName}\r\n                changeInputSearch={changeInputSearch}\r\n                search={search}\r\n                secondInput={false}\r\n            />\r\n            <h1>Packs </h1>\r\n            <Checkbox onChange={changedMyPack} labelTitle={'My packs'}/>\r\n            <ModalAddPack userId={user_id}/>\r\n            <div className={classes.table}>\r\n                <div className={`${classes.tableHeader} ${classes.tableRow}`}>\r\n                    <div>\r\n                        <strong>Name</strong>\r\n                        <SortButton onClickOne={sortPacksNameTop} onClickTwo={sortPacksNameBottom}/>\r\n                    </div>\r\n                    <div><strong>Cards Count</strong></div>\r\n                    <div>\r\n                        <strong>Last Update</strong>\r\n                        <SortButton onClickOne={sortPacksUpdateTop} onClickTwo={sortPacksUpdateBottom}/>\r\n                    </div>\r\n                    <div><strong>Actions</strong></div>\r\n                </div>\r\n\r\n                {cardPacks.map((pack) => {\r\n                    const packUpdateDate = new Date(pack.updated)\r\n                    return (\r\n                        <div key={pack._id} className={classes.tableRow}>\r\n                            <div><strong>{pack.name}</strong> <small> ({pack.private ? 'private' : 'public'}) </small>\r\n                            </div>\r\n                            <div>{pack.cardsCount}</div>\r\n                            <div>{packUpdateDate.toLocaleString()}</div>\r\n                            <div>\r\n                                {pack.user_id === user_id &&\r\n                                <>\r\n                                    <ModalEditPack currentName={pack.name} currentPrivacyStatus={pack.private}\r\n                                                   packId={pack._id} userId={user_id}/>\r\n                                    <ModalRemovePack packName={pack.name} packId={pack._id} userId={user_id}/>\r\n\r\n                                </>}\r\n                                <Link to={`/cards/${pack._id}`}><Button labelTitle={'Show cards'}/></Link>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n            <Paginator\r\n                page={page}\r\n                pageCount={pageCount}\r\n                cardPacksTotalCount={cardPacksTotalCount}\r\n                getCardPacksPage={getCardPacksPage}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Packs;","import React, {Suspense} from 'react'\r\nimport './App.css'\r\nimport {Route, Switch} from 'react-router-dom'\r\nimport * as paths from './route'\r\nimport Login from './components/Login/Login'\r\nimport Profile from './components/Profile/Profile'\r\nimport Header from './components/Header/Header'\r\nimport Cards from \"./components/Cards/Cards\";\r\nimport Packs from \"./components/Packs/Packs\";\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {AppRootStateType} from \"./reducers/store\";\r\nimport {authSucessTC} from './reducers/login-reducer'\r\nimport {Preloader} from './components/common'\r\n\r\nconst Registration = React.lazy(() => import('./components/Registration/Registration'))\r\nconst RestorePassword = React.lazy(() => import('./components/RestorePassword/RestorePassword'))\r\nconst NewPassword = React.lazy(() => import('./components/NewPassword/NewPassword'))\r\nconst NotFound = React.lazy(() => import('./components/NotFound/NotFound'))\r\n\r\nfunction App() {\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.login.isLoggedIn)\r\n    const requestIsFetching = useSelector<AppRootStateType, boolean>(state => state.request.isFetching)\r\n    const dispatch = useDispatch();\r\n\r\n/*    React.useEffect(() => {\r\n        dispatch(authSucessTC())\r\n    }, [])*/\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            {requestIsFetching && <Preloader/>}\r\n            <Header/>\r\n            <div className=\"content\">\r\n                <Suspense fallback={<Preloader/>}>\r\n                    <Switch>\r\n                        <Route exact path='/' render={() => isLoggedIn ? <Profile/> : <Login/>}/>\r\n                        <Route path={paths.LOGIN} render={() => <Login/>}/>\r\n                        <Route path={paths.PROFILE} render={() => <Profile/>}/>\r\n                        <Route path={paths.PACKS} render={() => <Packs/>}/>\r\n                        <Route path={paths.CARDS} render={() => <Cards/>}/>\r\n\r\n                        <Route path={paths.REGISTRATION} render={() => <Registration/>}/>\r\n                        <Route path={paths.RESTORE_PASSWORD} render={() => <RestorePassword/>}/>\r\n                        <Route path={paths.NEW_PASSWORD} render={() => <NewPassword/>}/>\r\n\r\n                        <Route component={NotFound}/>\r\n                    </Switch>\r\n                </Suspense>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {loginReducer} from \"./login-reducer\";\r\nimport {newPswReducer} from \"./newPassword-reducer\";\r\nimport {restorePswReducer} from \"./restorePassword-reducer\";\r\nimport {registrationReducer} from \"./registration-reducer\";\r\nimport {requestReducer} from \"./request-reducer\";\r\nimport {packReducer} from \"./pack-reducer\";\r\nimport {cardsReducer} from \"./cards-reducer\";\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    login: loginReducer,\r\n    newPsw: newPswReducer,\r\n    restorePsw: restorePswReducer,\r\n    registration: registrationReducer,\r\n    request: requestReducer,\r\n    packs: packReducer,\r\n    cards: cardsReducer\r\n})\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>\r\n// @ts-ignore\r\nwindow.store = store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {Provider} from 'react-redux';\r\nimport {store} from \"./reducers/store\";\r\nimport {HashRouter} from \"react-router-dom\";\r\n\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <Provider store={store}>\r\n            <HashRouter>\r\n                <App/>\r\n            </HashRouter>\r\n        </Provider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Packs_container__2Uv5c\",\"table\":\"Packs_table__1SSVS\",\"tableRow\":\"Packs_tableRow__1yRlX\",\"tableHeader\":\"Packs_tableHeader__kNgj8\",\"modalInnerWrap\":\"Packs_modalInnerWrap__3WgNp\",\"checkboxWrap\":\"Packs_checkboxWrap__1Cx_G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Cards_container__3jJh8\",\"table\":\"Cards_table__1OEYJ\",\"tableRow\":\"Cards_tableRow__nwf7S\",\"tableHeader\":\"Cards_tableHeader__1Rk_X\",\"modalInnerWrap\":\"Cards_modalInnerWrap__3ohbh\",\"checkboxWrap\":\"Cards_checkboxWrap__2LHr9\"};","let initialState = {\r\n   error: '',\r\n   isFetching: false,\r\n}\r\n\r\nexport type InitialState = typeof initialState\r\n\r\nexport const requestReducer = (state: InitialState = initialState, action: InitReducerActionsType) => {\r\n   switch (action.type) {\r\n      case 'REQUEST_ERROR':\r\n         return {...state, error: action.error}\r\n      case 'REQUEST_IS_FETCHING':\r\n         return {...state, isFetching: action.isFetching}\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\nexport const errorAC = (error: string) => ({type: 'REQUEST_ERROR', error} as const)\r\nexport const isFetchingAC = (isFetching: boolean) => ({type: 'REQUEST_IS_FETCHING', isFetching} as const)\r\n\r\n\r\n// TYPES\r\nexport type ErrorACType = ReturnType<typeof errorAC>\r\nexport type isFetchingACType = ReturnType<typeof isFetchingAC>\r\ntype InitReducerActionsType = ErrorACType | isFetchingACType\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Navbar_menu__Mhcmp\",\"menuTitle\":\"Navbar_menuTitle__19_Im\",\"switch\":\"Navbar_switch__1pOjJ\",\"active\":\"Navbar_active__1XbSl\",\"navbar\":\"Navbar_navbar__3Queb\",\"activeLink\":\"Navbar_activeLink__15t2E\"};","import {instance} from './api'\r\n\r\n\r\nexport const authAPI = {\r\n   login: (data: LoginParamsType) =>\r\n      instance.post<LoginResponseType>('auth/login', data),\r\n   authMe: () =>\r\n      instance.post<LoginResponseType>('auth/me'),\r\n   logout: () =>\r\n      instance.delete<LoginResponseType>('auth/me'),\r\n   forgot: (data: ForgotParamsType) =>\r\n      instance.post<ForgotResponseType>('auth/forgot', data),\r\n   sendNewPassword: (data: NewPasswordParamsType) =>\r\n      instance.post<NewPasswordResponseType>('auth/set-new-password', data),\r\n   registration: (data: RegistrationParamsType) =>\r\n      instance.post<RegistrationResponseType>('auth/register', data),\r\n}\r\n\r\n// TYPES\r\n\r\nexport type LoginParamsType = {\r\n   password: string,\r\n   email: string,\r\n   rememberMe: boolean,\r\n}\r\n\r\nexport type LoginResponseType = {\r\n   _id: string,\r\n   email: string,\r\n   name: string,\r\n   avatar?: string,\r\n   publicCardPacksCount: number, // количество колод\r\n\r\n   created: string,\r\n   updated: string,\r\n   isAdmin: boolean,\r\n   verified: boolean, // подтвердил ли почту\r\n   rememberMe: boolean,\r\n\r\n   error: string,\r\n}\r\n\r\nexport type AddedUserType = {\r\n   email: string,\r\n   isAdmin: boolean,\r\n   __v: number,\r\n   _id: string,\r\n}\r\n\r\nexport type RegistrationResponseType = {\r\n   addedUser: AddedUserType,\r\n   success: boolean,\r\n}\r\n\r\n// export type LoginResponseErrorType = {\r\n//    body: LoginParamsType,\r\n//    error: string,\r\n//    method: string,\r\n//    query: {},\r\n//    url: string,\r\n// }\r\n\r\nexport type ForgotParamsType = {\r\n   email: string,\r\n   from: string,\r\n   message: string,\r\n}\r\n\r\nexport type ForgotResponseType = {\r\n   answer: boolean,\r\n   html: boolean,\r\n   info: string,\r\n   success: boolean,\r\n}\r\n\r\nexport type NewPasswordParamsType = {\r\n   password: string,\r\n   resetPasswordToken: string,\r\n}\r\n\r\nexport type NewPasswordResponseType = {\r\n   info: string,\r\n}\r\n\r\nexport type RegistrationParamsType = {\r\n   email: string,\r\n   password: string,\r\n   repeatPassword?: string,\r\n}\r\n\r\nexport type FormErrorType = {\r\n   email?: string,\r\n   password?: string,\r\n   repeatPassword?: string,\r\n   rememberMe?: boolean,\r\n}\r\n\r\n","import React, {DetailedHTMLProps, InputHTMLAttributes} from 'react'\r\nimport classes from './Input.module.scss'\r\nimport Icons from '../Icons/Icons'\r\n\r\ntype InputPropsType\r\n   = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n   & { labelTitle?: string, error?: string }\r\n\r\nconst Input = (props: InputPropsType) => {\r\n\r\n   const [showPassword, setShowPassword] = React.useState<boolean>(false)\r\n\r\n   const handleShowPassword = () => {\r\n      setShowPassword(prevState => !prevState)\r\n   }\r\n\r\n   const {labelTitle, error, ...restProps} = props\r\n   const type = props.type === 'password' && !showPassword ? 'password' : 'text'\r\n\r\n   return (\r\n      <label className={classes.label}>\r\n         {labelTitle && <span className={classes.label}>{labelTitle}</span>}\r\n         <input {...restProps} type={type} className={`${classes.input} ${props.className}`}/>\r\n         {\r\n            type === 'password' &&\r\n               <div className={classes.showPassword} onClick={handleShowPassword}>\r\n                  {Icons.Eye()}\r\n               </div>\r\n         }\r\n         {\r\n            showPassword &&\r\n            <div className={classes.showPassword} onClick={handleShowPassword}>\r\n               {Icons.EyeSlash()}\r\n            </div>\r\n         }\r\n         {\r\n            error &&\r\n               <div className={classes.error}>\r\n                  {Icons.Error()}\r\n                  <div className={classes.errorMessage}>{error}</div>\r\n               </div>\r\n         }\r\n      </label>\r\n   )\r\n}\r\n\r\nexport default React.memo(Input)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Input_label__jOF-3\",\"error\":\"Input_error__39qKP\",\"errorMessage\":\"Input_errorMessage__3ysst\",\"showPassword\":\"Input_showPassword__2oNMr\",\"input\":\"Input_input__1VWGP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Profile_container__2fYw0\",\"colLeft\":\"Profile_colLeft__2iZMt\",\"link\":\"Profile_link__3kzgK\"};","import React, {ButtonHTMLAttributes, DetailedHTMLProps} from 'react'\r\nimport classes from './Button.module.scss'\r\n\r\ntype InputPropsType\r\n    = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>\r\n    & { labelTitle?: string};\r\n\r\nconst Button = (props: InputPropsType) => {\r\n    const {labelTitle, ...restProps} = props\r\n    return (\r\n        <button className={classes.btn} {...restProps}> {props.labelTitle}</button>\r\n    )\r\n}\r\n\r\nexport default React.memo(Button)\r\n","import React from 'react'\r\nimport {findIconDefinition, IconDefinition, IconLookup} from '@fortawesome/fontawesome-svg-core'\r\nimport {library} from '@fortawesome/fontawesome-svg-core'\r\nimport {fas} from '@fortawesome/free-solid-svg-icons'\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\r\n\r\nlibrary.add(fas)\r\n\r\nconst iconDefinition = (iconName: any, pref?: any): IconDefinition => {\r\n   const prefix = pref ? pref : 'fas'\r\n   const Lookup: IconLookup = {prefix: prefix, iconName: iconName}\r\n   return findIconDefinition(Lookup)\r\n}\r\n\r\n// создаете новую иконку с именем из каталога https://fontawesome.com/icons (только free)\r\nconst SignInAlt = () => <FontAwesomeIcon icon={iconDefinition('sign-in-alt')}/>\r\nconst SignOutAlt = () => <FontAwesomeIcon icon={iconDefinition('sign-out-alt')}/>\r\nconst Key = () => <FontAwesomeIcon icon={iconDefinition('key')}/>\r\nconst Lock = () => <FontAwesomeIcon icon={iconDefinition('lock')}/>\r\nconst Error = () => <FontAwesomeIcon icon={iconDefinition('exclamation-circle')}/>\r\nconst Eye = () => <FontAwesomeIcon icon={iconDefinition('eye')}/>\r\nconst EyeSlash = () => <FontAwesomeIcon icon={iconDefinition('eye-slash')}/>\r\nconst SearchLocation = () => <FontAwesomeIcon icon={iconDefinition('search-location')}/>\r\n\r\n// добавляете в этот объект\r\nconst Icons = {\r\n   SignInAlt,\r\n   SignOutAlt,\r\n   Key,\r\n   Lock,\r\n   Error,\r\n   Eye,\r\n   EyeSlash,\r\n   SearchLocation,\r\n}\r\n\r\nexport default Icons\r\n// в таком виде вставляете в разметку: { Icons.coffee() }\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Login_container__1dhzn\",\"formItem\":\"Login_formItem__1I2Ut\",\"subLinks\":\"Login_subLinks__3-Xeg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"close\":\"Modal_close__cBdIP\",\"header\":\"Modal_header__KSiRs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Checkbox_label__1q_k8\",\"checkbox\":\"Checkbox_checkbox__2d-7_\",\"customCheckbox\":\"Checkbox_customCheckbox__KijXE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1Nb1J\",\"paginator_item\":\"Paginator_paginator_item__bbebC\"};","export const LOGIN = '/login';\r\nexport const NEW_PASSWORD = '/set-new-password/:token?'\r\nexport const PROFILE = '/profile'\r\nexport const REGISTRATION = '/registration'\r\nexport const RESTORE_PASSWORD = '/restore-password'\r\nexport const CARDS = '/cards/:packId?'\r\nexport const PACKS = '/packs'","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__Wf4ao\",\"container\":\"Header_container__38qBT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"Search_search__2UaKF\",\"search_item\":\"Search_search_item__Nrbq4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"SortButton_btn__2CPrs\"};"],"sourceRoot":""}